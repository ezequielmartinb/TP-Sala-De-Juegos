import{a as k}from"./chunk-EDEC42IT.js";import{k as M,l as O,m as I}from"./chunk-7LMTQFKZ.js";import{Ca as x,Ga as p,K as g,Na as c,P as h,Pa as n,Qa as a,Ra as C,Sa as S,Ta as m,Ua as d,W as P,X as v,Za as y,_a as r,ab as u,qa as _,sa as o,xa as b}from"./chunk-3UVLN3EJ.js";import"./chunk-FK42CRUA.js";var l=class i{constructor(t){this.http=t}apiUrl="https://restcountries.com/v3.1/all";getPaises(){return this.http.get(this.apiUrl)}static \u0275fac=function(e){return new(e||i)(h(k))};static \u0275prov=g({token:i,factory:i.\u0275fac,providedIn:"root"})};function U(i,t){if(i&1){let e=S();n(0,"div")(1,"button",7,0),m("click",function(){let f=P(e).$implicit,R=y(2),E=d(2);return v(E.verificarRespuesta(f,R))}),r(3),a()()}if(i&2){let e=t.$implicit;o(3),u(" ",e.name," ")}}function z(i,t){if(i&1&&(n(0,"div",3),C(1,"img",4),n(2,"p",5),r(3,"Tiempo restante: "),n(4,"strong"),r(5),a()(),p(6,U,4,1,"div",6),a()),i&2){let e=d();o(),c("src",e.paisSeleccionado.flag,_)("alt",e.paisSeleccionado.name),o(4),u("",e.tiempoRestante,"s"),o(),c("ngForOf",e.opciones)}}var w=class i{constructor(t){this.paisesService=t;this.paisSeleccionado=this.elegirUnPais()}listadoPaises=[];paisSeleccionado;opciones=[];respuestaSeleccionada=!1;tiempoRestante=10;intervalo;ngOnInit(){this.paisesService.getPaises().subscribe(t=>{this.listadoPaises=t.map(e=>({name:e.translations?.spa?.common||e.name.common,flag:e.flags?.png||""})),this.iniciarJuego()})}elegirUnPais(){let t=Math.floor(Math.random()*this.listadoPaises.length);return this.listadoPaises[t]}iniciarJuego(){if(this.listadoPaises.length<3)return;this.paisSeleccionado=this.elegirUnPais();let t=new Set;for(t.add(this.paisSeleccionado);t.size<3;){let e=this.elegirUnPais();t.add(e)}this.opciones=Array.from(t).sort(()=>Math.random()-.5),this.respuestaSeleccionada=!1,this.iniciarTemporizador()}iniciarTemporizador(){this.tiempoRestante=10,this.intervalo=setInterval(()=>{this.tiempoRestante>0?this.tiempoRestante--:this.seleccionarPrimeraOpcion()},1e3)}verificarRespuesta(t,e){this.respuestaSeleccionada||(this.respuestaSeleccionada=!0,clearInterval(this.intervalo),e.classList.add(t.name===this.paisSeleccionado.name?"correcto":"incorrecto"),document.querySelectorAll("button.opcion").forEach(s=>s.setAttribute("disabled","true")))}seleccionarPrimeraOpcion(){clearInterval(this.intervalo);let t=this.opciones[0];this.verificarRespuesta(t,document.querySelector("button.opcion"))}static \u0275fac=function(e){return new(e||i)(b(l))};static \u0275cmp=x({type:i,selectors:[["app-preguntados"]],decls:5,vars:1,consts:[["boton",""],["class","contenedor-pregunta",4,"ngIf"],[3,"click"],[1,"contenedor-pregunta"],[3,"src","alt"],[1,"timer"],[4,"ngFor","ngForOf"],[1,"opcion",3,"click"]],template:function(e,s){e&1&&(n(0,"h1"),r(1,"\xBFA qu\xE9 pa\xEDs pertenece esta bandera?"),a(),p(2,z,7,4,"div",1),n(3,"button",2),m("click",function(){return s.iniciarJuego()}),r(4,"Reiniciar juego"),a()),e&2&&(o(2),c("ngIf",s.paisSeleccionado))},dependencies:[I,M,O],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;text-align:center;background-color:#4caf50;color:#fff}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{text-align:center}img[_ngcontent-%COMP%]{display:block;margin:0 auto;width:200px;height:auto;border-radius:10px;box-shadow:3px 3px 10px #0000004d}.contenedor-pregunta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:15px}button[_ngcontent-%COMP%]{width:200px;padding:10px;font-size:1.2rem;border-radius:20px;cursor:pointer;border:none;transition:background-color .3s ease,transform .2s ease}button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.correcto[_ngcontent-%COMP%]{background-color:#4caf50!important;color:#fff}.incorrecto[_ngcontent-%COMP%]{background-color:#f44336!important;color:#fff}button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.timer[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#ff5722}"]})};export{w as PreguntadosComponent};
