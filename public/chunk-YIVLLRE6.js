import{a as N,b as s,c as A,d as O,e as j,g as f,i as k,j as P,k as V,l as q,m as G,n as z,o as D,q as J}from"./chunk-EC2R4OUN.js";import{l as w,n as F}from"./chunk-3UXFVKZA.js";import{Ca as S,Ha as u,K as h,Oa as m,Qa as r,Ra as n,Sa as c,Ta as I,W as _,Wa as x,X as g,Xa as p,bb as i,db as T,sa as l,wb as M,xa as y}from"./chunk-LTGA3DLZ.js";import"./chunk-LJ5XHLMQ.js";import{h as v}from"./chunk-FK42CRUA.js";var C={production:!0,apiUrl:"https://yhxqhnpjtrpqzzmdnxfh.supabase.co",publicAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InloeHFobnBqdHJwcXp6bWRueGZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY2NTE2NDUsImV4cCI6MjA2MjIyNzY0NX0.4Wb6R7LxMzORJoyCNrWYl3PlHsZ2VsIuPGR5Gp2K7U8"};var b=class t{supabase=M(C.apiUrl,C.publicAnonKey);insertarEncuesta(a){return v(this,null,function*(){let{data:e,error:o}=yield this.supabase.from("encuestas").insert([a]).select();return o?(console.error("\u274C Error en Supabase:",o.message),null):e})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};function L(t,a){t&1&&(r(0,"div",2),i(1,` \u2705 Gracias por completar la encuesta
`),n())}function U(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 Este campo es obligatorio."),n())}function X(t,a){t&1&&(r(0,"small"),i(1,"Solo se permiten letras."),n())}function Y(t,a){if(t&1&&(r(0,"div"),u(1,U,2,0,"small",7)(2,X,2,0,"small",7),n()),t&2){let e=p(2);l(),m("ngIf",e.Nombre==null||e.Nombre.errors==null?null:e.Nombre.errors.required),l(),m("ngIf",e.Nombre==null||e.Nombre.errors==null?null:e.Nombre.errors.pattern)}}function H(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 Este campo es obligatorio."),n())}function K(t,a){t&1&&(r(0,"small"),i(1,"Solo se permiten letras."),n())}function W(t,a){if(t&1&&(r(0,"div"),u(1,H,2,0,"small",7)(2,K,2,0,"small",7),n()),t&2){let e=p(2);l(),m("ngIf",e.Apellido==null||e.Apellido.errors==null?null:e.Apellido.errors.required),l(),m("ngIf",e.Apellido==null||e.Apellido.errors==null?null:e.Apellido.errors.pattern)}}function $(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 Este campo es obligatorio."),n())}function Q(t,a){t&1&&(r(0,"small"),i(1,"Debe ser mayor de 18 a\xF1os."),n())}function ee(t,a){t&1&&(r(0,"small"),i(1,"Debe ser menor de 99 a\xF1os."),n())}function te(t,a){if(t&1&&(r(0,"div"),u(1,$,2,0,"small",7)(2,Q,2,0,"small",7)(3,ee,2,0,"small",7),n()),t&2){let e=p(2);l(),m("ngIf",e.Edad==null||e.Edad.errors==null?null:e.Edad.errors.required),l(),m("ngIf",e.Edad==null||e.Edad.errors==null?null:e.Edad.errors.min),l(),m("ngIf",e.Edad==null||e.Edad.errors==null?null:e.Edad.errors.max)}}function ne(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 Este campo es obligatorio."),n())}function re(t,a){t&1&&(r(0,"small"),i(1,"Solo se permiten n\xFAmeros."),n())}function oe(t,a){t&1&&(r(0,"small"),i(1,"M\xE1ximo 10 caracteres."),n())}function ie(t,a){if(t&1&&(r(0,"div"),u(1,ne,2,0,"small",7)(2,re,2,0,"small",7)(3,oe,2,0,"small",7),n()),t&2){let e=p(2);l(),m("ngIf",e.Telefono==null||e.Telefono.errors==null?null:e.Telefono.errors.required),l(),m("ngIf",e.Telefono==null||e.Telefono.errors==null?null:e.Telefono.errors.pattern),l(),m("ngIf",e.Telefono==null||e.Telefono.errors==null?null:e.Telefono.errors.maxlength)}}function ae(t,a){t&1&&(r(0,"div")(1,"small",36),i(2,"Debes seleccionar una opci\xF3n."),n()())}function le(t,a){t&1&&(r(0,"div")(1,"small",36),i(2,"Debes seleccionar al menos una opci\xF3n."),n(),c(3,"br"),n())}function me(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 Este campo es obligatorio."),n())}function se(t,a){t&1&&(r(0,"small"),i(1,"\u26A0 El comentario no puede superar los 180 caracteres."),n())}function ce(t,a){if(t&1&&(r(0,"div",37),u(1,me,2,0,"small",7)(2,se,2,0,"small",7),n()),t&2){let e=p(2);l(),m("ngIf",e.Comentario==null||e.Comentario.errors==null?null:e.Comentario.errors.required),l(),m("ngIf",e.Comentario==null||e.Comentario.errors==null?null:e.Comentario.errors.maxlength)}}function ue(t,a){if(t&1){let e=I();r(0,"form",3),x("ngSubmit",function(){_(e);let d=p();return g(d.enviarFormulario())}),r(1,"form",4),x("ngSubmit",function(){_(e);let d=p();return g(d.enviarFormulario())}),r(2,"div")(3,"label",5),i(4,"Nombre:"),n(),c(5,"input",6),u(6,Y,3,2,"div",7),n(),r(7,"div")(8,"label",8),i(9,"Apellido:"),n(),c(10,"input",9),u(11,W,3,2,"div",7),n(),r(12,"div")(13,"label",10),i(14,"Edad:"),n(),c(15,"input",11),u(16,te,4,3,"div",7),n(),r(17,"div")(18,"label",12),i(19,"Tel\xE9fono:"),n(),c(20,"input",13),u(21,ie,4,3,"div",7),n(),r(22,"div")(23,"label"),i(24,"1 - \xBFCu\xE1l juego te ha divertido m\xE1s?"),n(),c(25,"br"),r(26,"div",14),c(27,"input",15),r(28,"label",16),i(29,"Ahorcado"),n(),c(30,"br")(31,"input",17),r(32,"label",18),i(33,"Mayor-Menor"),n(),c(34,"br")(35,"input",19),r(36,"label",20),i(37,"Preguntados"),n(),c(38,"br")(39,"input",21),r(40,"label",22),i(41,"Blackjack"),n(),c(42,"br"),n(),u(43,ae,3,0,"div",7),c(44,"br"),n(),r(45,"div")(46,"label"),i(47,"2 - \xBFQu\xE9 caracter\xEDsticas agregar\xEDas para hacer los juegos m\xE1s entretenidos o desafiantes?"),n(),c(48,"br"),r(49,"div",23)(50,"div",24)(51,"input",25),x("change",function(d){_(e);let E=p();return g(E.agregarOEliminarCaracteristica("M\xE1s niveles de dificultad",d))}),n(),r(52,"label",26),i(53,"M\xE1s niveles de dificultad"),n()(),r(54,"div",24)(55,"input",27),x("change",function(d){_(e);let E=p();return g(E.agregarOEliminarCaracteristica("Nuevos modos de juego",d))}),n(),r(56,"label",28),i(57,"Nuevos modos de juego"),n()(),r(58,"div",24)(59,"input",29),x("change",function(d){_(e);let E=p();return g(E.agregarOEliminarCaracteristica("Integraci\xF3n con amigos",d))}),n(),r(60,"label",30),i(61,"Integraci\xF3n online con amigos"),n(),c(62,"br")(63,"br"),n()(),u(64,le,4,0,"div",7),n(),r(65,"div")(66,"label",31),i(67,"3 - Comparte tu experiencia con la aplicaci\xF3n:"),n(),c(68,"br"),r(69,"textarea",32),x("input",function(){_(e);let d=p();return g(d.actualizarContador())}),n(),r(70,"div",33),i(71),n(),u(72,ce,3,2,"div",34),n(),r(73,"button",35),i(74,"Enviar"),n()()()}if(t&2){let e,o=p();m("formGroup",o.formularioEncuesta),l(),m("formGroup",o.formularioEncuesta),l(5),m("ngIf",o.Nombre==null?null:o.Nombre.invalid),l(5),m("ngIf",o.Apellido==null?null:o.Apellido.invalid),l(5),m("ngIf",o.Edad==null?null:o.Edad.invalid),l(5),m("ngIf",o.Telefono==null?null:o.Telefono.invalid),l(22),m("ngIf",(e=o.formularioEncuesta.get("juegoFavorito"))==null?null:e.invalid),l(21),m("ngIf",o.Caracteristicas==null?null:o.Caracteristicas.invalid),l(7),T(" Caracteres ingresados: ",o.contadorCaracteres,"/180 "),l(),m("ngIf",(o.Comentario==null?null:o.Comentario.invalid)&&(o.Comentario==null?null:o.Comentario.touched)),l(),m("disabled",o.formularioEncuesta.invalid)}}var R=class t{constructor(a){this.encuestaService=a}formularioEncuesta;mensajeGracias=!1;mostrarFormulario=!0;contadorCaracteres=0;ngOnInit(){this.formularioEncuesta=new j({nombre:new f("",[s.required,s.pattern("^[a-zA-Z\xF1\xD1\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA ]+$"),s.required]),apellido:new f("",[s.required,s.pattern("^[a-zA-Z\xF1\xD1\xE1\xE9\xED\xF3\xFA\xC1\xC9\xCD\xD3\xDA ]+$"),s.required]),edad:new f("",[s.required,s.min(18),s.max(99)]),telefono:new f("",[s.required,s.pattern(/^\d+$/),s.maxLength(10)]),juegoFavorito:new f("",[s.required]),caracteristicas:new D([],[s.required]),comentario:new f("",[s.required,s.maxLength(180)])})}agregarOEliminarCaracteristica(a,e){if(e.target.checked)this.Caracteristicas.push(new f(a));else{let o=this.Caracteristicas.controls.findIndex(d=>d.value===a);this.Caracteristicas.removeAt(o)}}actualizarContador(){this.contadorCaracteres=this.formularioEncuesta.get("comentario")?.value?.length||0}get Nombre(){return this.formularioEncuesta.get("nombre")}get Apellido(){return this.formularioEncuesta.get("apellido")}get Edad(){return this.formularioEncuesta.get("edad")}get Telefono(){return this.formularioEncuesta.get("telefono")}get JuegoFavorito(){return this.formularioEncuesta.get("juegoFavorito")}get Caracteristicas(){return this.formularioEncuesta.get("caracteristicas")}get Comentario(){return this.formularioEncuesta.get("comentario")}enviarFormulario(){return v(this,null,function*(){if(this.formularioEncuesta.invalid){this.formularioEncuesta.markAllAsTouched();return}let a={nombre:this.formularioEncuesta.value.nombre,apellido:this.formularioEncuesta.value.apellido,edad:this.formularioEncuesta.value.edad,telefono:this.formularioEncuesta.value.telefono,juego_favorito:this.formularioEncuesta.value.juegoFavorito,caracteristicas:this.formularioEncuesta.value.caracteristicas,comentario:this.formularioEncuesta.value.comentario};try{let e=yield this.encuestaService.insertarEncuesta(a);console.log(e),e?(this.mostrarFormulario=!1,this.mensajeGracias=!0):console.error("\u274C Hubo un problema al enviar la encuesta.")}catch(e){e instanceof Error?console.error("Error al enviar la encuesta:",e.message):console.error("Ocurri\xF3 un error inesperado:",e)}})}static \u0275fac=function(e){return new(e||t)(y(b))};static \u0275cmp=S({type:t,selectors:[["app-encuesta"]],decls:4,vars:2,consts:[["class","alert alert-success text-center mt-3",4,"ngIf"],["class","container p-4 shadow-lg rounded bg-light",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success","text-center","mt-3"],[1,"container","p-4","shadow-lg","rounded","bg-light",3,"ngSubmit","formGroup"],[3,"ngSubmit","formGroup"],["for","nombre"],["id","nombre","type","text","formControlName","nombre"],[4,"ngIf"],["for","apellido"],["id","apellido","type","text","formControlName","apellido"],["for","edad"],["id","edad","type","number","formControlName","edad"],["for","telefono"],["id","telefono","type","text","formControlName","telefono","maxlength","10"],[1,"radio-group"],["type","radio","id","ahorcado","formControlName","juegoFavorito","value","Ahorcado"],["for","ahorcado"],["type","radio","id","mayorMenor","formControlName","juegoFavorito","value","Mayor-Menor"],["for","mayorMenor"],["type","radio","id","preguntados","formControlName","juegoFavorito","value","Preguntados"],["for","preguntados"],["type","radio","id","blackjack","formControlName","juegoFavorito","value","Blackjack"],["for","blackjack"],[1,"checkbox-group"],[1,"checkbox-item"],["type","checkbox","id","niveles",3,"change"],["for","niveles"],["type","checkbox","id","modos",3,"change"],["for","modos"],["type","checkbox","id","integracion",3,"change"],["for","integracion"],["for","comentario"],["id","comentario","formControlName","comentario","rows","3",1,"form-control",3,"input"],[1,"text-muted"],["class","text-danger",4,"ngIf"],["type","submit",3,"disabled"],[2,"color","red"],[1,"text-danger"]],template:function(e,o){e&1&&(r(0,"h1"),i(1,"Encuesta"),n(),u(2,L,2,0,"div",0)(3,ue,75,11,"form",1)),e&2&&(l(2),m("ngIf",o.mensajeGracias),l(),m("ngIf",o.mostrarFormulario))},dependencies:[F,w,J,k,N,P,V,A,O,z,q,G],styles:["body[_ngcontent-%COMP%], form[_ngcontent-%COMP%], label[_ngcontent-%COMP%], input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%], .alert-success[_ngcontent-%COMP%]{color:#000}.encuesta-container[_ngcontent-%COMP%]{max-width:700px;margin:auto;padding:25px;background-color:#f1f1f1;border-radius:12px;box-shadow:0 4px 15px #00000026}h1[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;margin-top:8px;border:2px solid #ccc;border-radius:8px;font-size:16px;transition:border-color .3s,background-color .3s}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;background-color:#f9f9f9}.radio-group[_ngcontent-%COMP%], .checkbox-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}button[_ngcontent-%COMP%]{background:linear-gradient(90deg,#007bff,#004494);color:#fff;padding:12px 18px;font-size:18px;font-weight:700;border:none;border-radius:8px;cursor:pointer;width:100%;transition:background .3s ease-in-out,transform .2s}button[_ngcontent-%COMP%]:hover{background:linear-gradient(90deg,#0056b3,#037);transform:scale(1.02)}.alert-success[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#fff;background:#28a745;padding:12px;border-radius:8px;text-align:center;box-shadow:0 4px 10px #0003}"]})};export{R as EncuestaComponent};
