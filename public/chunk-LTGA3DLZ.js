import{b as Xa,c as ec,f as ch,g as tc}from"./chunk-LJ5XHLMQ.js";import{a as ye,b as ve,d as Se,f as sh,g as ah,h}from"./chunk-FK42CRUA.js";var ka=Se(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var Sa=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Na.default=Sa});var Aa=Se(Fn=>{"use strict";var Kd=Fn&&Fn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fn,"__esModule",{value:!0});var t_=Kd((tc(),ah(ch))),n_=Kd(ka()),Oa=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=t_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(i=>h(this,null,function*(){var s,a,c;let l=null,u=null,d=null,p=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){let b=yield i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}let m=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),y=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&y&&y.length>1&&(d=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let m=yield i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,p=200,f="OK")}catch{i.status===404&&m===""?(p=204,f="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,f="OK"),l&&this.shouldThrowOnError)throw new n_.default(l)}return{error:l,data:u,count:d,status:p,statusText:f}}));return this.shouldThrowOnError||(o=o.catch(i=>{var s,a,c;return{error:{message:`${(s=i?.name)!==null&&s!==void 0?s:"FetchError"}: ${i?.message}`,details:`${(a=i?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),o.then(t,n)}returns(){return this}overrideTypes(){return this}};Fn.default=Oa});var Pa=Se(Vn=>{"use strict";var r_=Vn&&Vn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});var o_=r_(Aa()),Ra=class extends o_.default{select(t){let n=!1,r=(t??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:i=o}={}){let s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:o=r}={}){let i=typeof o>"u"?"offset":`${o}.offset`,s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:i=!1,format:s="text"}={}){var a;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${l}"; options=${c};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vn.default=Ra});var Po=Se($n=>{"use strict";var i_=$n&&$n.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($n,"__esModule",{value:!0});var s_=i_(Pa()),La=class extends s_.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:o}={}){let i="";o==="plain"?i="pl":o==="phrase"?i="ph":o==="websearch"&&(i="w");let s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$n.default=La});var Fa=Se(Un=>{"use strict";var a_=Un&&Un.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Un,"__esModule",{value:!0});var Hn=a_(Po()),ja=class{constructor(t,{headers:n={},schema:r,fetch:o}){this.url=t,this.headers=n,this.schema=r,this.fetch=o}select(t,{head:n=!1,count:r}={}){let o=n?"HEAD":"GET",i=!1,s=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",s),r&&(this.headers.Prefer=`count=${r}`),new Hn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let o="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){let s=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(s.length>0){let a=[...new Set(s)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Hn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:i=!0}={}){let s="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),o&&a.push(`count=${o}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let c=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){let l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Hn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new Hn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Hn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Un.default=ja});var Yd=Se(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.version=void 0;Lo.version="0.0.0-automated"});var Xd=Se(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.DEFAULT_HEADERS=void 0;var c_=Yd();jo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${c_.version}`}});var tf=Se(Bn=>{"use strict";var ef=Bn&&Bn.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});var l_=ef(Fa()),u_=ef(Po()),d_=Xd(),Va=class e{constructor(t,{headers:n={},schema:r,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},d_.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=o}from(t){let n=new URL(`${this.url}/${t}`);return new l_.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:o=!1,count:i}={}){let s,a=new URL(`${this.url}/rpc/${t}`),c;r||o?(s=r?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(s="POST",c=n);let l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new u_.default({method:s,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bn.default=Va});var lf=Se(B=>{"use strict";var Zt=B&&B.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(B,"__esModule",{value:!0});B.PostgrestError=B.PostgrestBuilder=B.PostgrestTransformBuilder=B.PostgrestFilterBuilder=B.PostgrestQueryBuilder=B.PostgrestClient=void 0;var nf=Zt(tf());B.PostgrestClient=nf.default;var rf=Zt(Fa());B.PostgrestQueryBuilder=rf.default;var of=Zt(Po());B.PostgrestFilterBuilder=of.default;var sf=Zt(Pa());B.PostgrestTransformBuilder=sf.default;var af=Zt(Aa());B.PostgrestBuilder=af.default;var cf=Zt(ka());B.PostgrestError=cf.default;B.default={PostgrestClient:nf.default,PostgrestQueryBuilder:rf.default,PostgrestFilterBuilder:of.default,PostgrestTransformBuilder:sf.default,PostgrestBuilder:af.default,PostgrestError:cf.default}});function si(e,t){return Object.is(e,t)}var V=null,or=!1,ai=1,re=Symbol("SIGNAL");function x(e){let t=V;return V=e,t}function ci(){return V}var cn={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ln(e){if(or)throw new Error("");if(V===null)return;V.consumerOnSignalRead(e);let t=V.nextProducerIndex++;if(cr(V),t<V.producerNode.length&&V.producerNode[t]!==e&&an(V)){let n=V.producerNode[t];ar(n,V.producerIndexOfThis[t])}V.producerNode[t]!==e&&(V.producerNode[t]=e,V.producerIndexOfThis[t]=an(V)?rc(e,V,t):0),V.producerLastReadVersion[t]=e.version}function nc(){ai++}function li(e){if(!(an(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ai)){if(!e.producerMustRecompute(e)&&!hi(e)){ii(e);return}e.producerRecomputeValue(e),ii(e)}}function ui(e){if(e.liveConsumerNode===void 0)return;let t=or;or=!0;try{for(let n of e.liveConsumerNode)n.dirty||lh(n)}finally{or=t}}function di(){return V?.consumerAllowSignalWrites!==!1}function lh(e){e.dirty=!0,ui(e),e.consumerMarkedDirty?.(e)}function ii(e){e.dirty=!1,e.lastCleanEpoch=ai}function sr(e){return e&&(e.nextProducerIndex=0),x(e)}function fi(e,t){if(x(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(an(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ar(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hi(e){cr(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(li(n),r!==n.version))return!0}return!1}function pi(e){if(cr(e),an(e))for(let t=0;t<e.producerNode.length;t++)ar(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function rc(e,t,n){if(oc(e),e.liveConsumerNode.length===0&&ic(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=rc(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ar(e,t){if(oc(e),e.liveConsumerNode.length===1&&ic(e))for(let r=0;r<e.producerNode.length;r++)ar(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];cr(o),o.producerIndexOfThis[r]=t}}function an(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function cr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function oc(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ic(e){return e.producerNode!==void 0}function gi(e,t){let n=Object.create(uh);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(li(n),ln(n),n.value===ir)throw n.error;return n.value};return r[re]=n,r}var ri=Symbol("UNSET"),oi=Symbol("COMPUTING"),ir=Symbol("ERRORED"),uh=ve(ye({},cn),{value:ri,dirty:!0,error:null,equal:si,kind:"computed",producerMustRecompute(e){return e.value===ri||e.value===oi},producerRecomputeValue(e){if(e.value===oi)throw new Error("Detected cycle in computations.");let t=e.value;e.value=oi;let n=sr(e),r,o=!1;try{r=e.computation(),x(null),o=t!==ri&&t!==ir&&r!==ir&&e.equal(t,r)}catch(i){r=ir,e.error=i}finally{fi(e,n)}if(o){e.value=t;return}e.value=r,e.version++}});function dh(){throw new Error}var sc=dh;function ac(e){sc(e)}function mi(e){sc=e}var fh=null;function yi(e,t){let n=Object.create(lr);n.value=e,t!==void 0&&(n.equal=t);let r=()=>(ln(n),n.value);return r[re]=n,r}function un(e,t){di()||ac(e),e.equal(e.value,t)||(e.value=t,hh(e))}function vi(e,t){di()||ac(e),un(e,t(e.value))}var lr=ve(ye({},cn),{equal:si,value:void 0,kind:"signal"});function hh(e){e.version++,nc(),ui(e),fh?.()}function wi(e){let t=x(null);try{return e()}finally{x(t)}}var _i;function dn(){return _i}function Ne(e){let t=_i;return _i=e,t}var ur=Symbol("NotFound");function w(e){return typeof e=="function"}function Tt(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var dr=Tt(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var H=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(w(r))try{r()}catch(i){t=i instanceof dr?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{cc(i)}catch(s){t=t??[],s instanceof dr?t=[...t,...s.errors]:t.push(s)}}if(t)throw new dr(t)}}add(t){var n;if(t&&t!==this)if(this.closed)cc(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&fn(n,t)}remove(t){let{_finalizers:n}=this;n&&fn(n,t),t instanceof e&&t._removeParent(this)}};H.EMPTY=(()=>{let e=new H;return e.closed=!0,e})();var bi=H.EMPTY;function fr(e){return e instanceof H||e&&"closed"in e&&w(e.remove)&&w(e.add)&&w(e.unsubscribe)}function cc(e){w(e)?e():e.unsubscribe()}var de={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ct={setTimeout(e,t,...n){let{delegate:r}=Ct;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Ct;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function hr(e){Ct.setTimeout(()=>{let{onUnhandledError:t}=de;if(t)t(e);else throw e})}function hn(){}var lc=Ii("C",void 0,void 0);function uc(e){return Ii("E",void 0,e)}function dc(e){return Ii("N",e,void 0)}function Ii(e,t,n){return{kind:e,value:t,error:n}}var Qe=null;function Mt(e){if(de.useDeprecatedSynchronousErrorHandling){let t=!Qe;if(t&&(Qe={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Qe;if(Qe=null,n)throw r}}else e()}function fc(e){de.useDeprecatedSynchronousErrorHandling&&Qe&&(Qe.errorThrown=!0,Qe.error=e)}var Ze=class extends H{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fr(t)&&t.add(this)):this.destination=wh}static create(t,n,r){return new St(t,n,r)}next(t){this.isStopped?Di(dc(t),this):this._next(t)}error(t){this.isStopped?Di(uc(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Di(lc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},yh=Function.prototype.bind;function Ei(e,t){return yh.call(e,t)}var xi=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){pr(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){pr(r)}else pr(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){pr(n)}}},St=class extends Ze{constructor(t,n,r){super();let o;if(w(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&de.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&Ei(t.next,i),error:t.error&&Ei(t.error,i),complete:t.complete&&Ei(t.complete,i)}):o=t}this.destination=new xi(o)}};function pr(e){de.useDeprecatedSynchronousErrorHandling?fc(e):hr(e)}function vh(e){throw e}function Di(e,t){let{onStoppedNotification:n}=de;n&&Ct.setTimeout(()=>n(e,t))}var wh={closed:!0,next:hn,error:vh,complete:hn};var Nt=typeof Symbol=="function"&&Symbol.observable||"@@observable";function X(e){return e}function _h(...e){return Ti(e)}function Ti(e){return e.length===0?X:e.length===1?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}var O=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=Ih(n)?n:new St(n,r,o);return Mt(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hc(r),new r((o,i)=>{let s=new St({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Nt](){return this}pipe(...n){return Ti(n)(this)}toPromise(n){return n=hc(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function hc(e){var t;return(t=e??de.Promise)!==null&&t!==void 0?t:Promise}function bh(e){return e&&w(e.next)&&w(e.error)&&w(e.complete)}function Ih(e){return e&&e instanceof Ze||bh(e)&&fr(e)}function Ci(e){return w(e?.lift)}function M(e){return t=>{if(Ci(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function T(e,t,n,r,o){return new Mi(e,t,n,r,o)}var Mi=class extends Ze{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Si(){return M((e,t)=>{let n=null;e._refCount++;let r=T(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ni=class extends O{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ci(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new H;let n=this.getSubject();t.add(this.source.subscribe(T(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=H.EMPTY)}return t}refCount(){return Si()(this)}};var pc=Tt(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class e extends O{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gr(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pc}next(n){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?bi:(this.currentObservers=null,i.push(n),new H(()=>{this.currentObservers=null,fn(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new O;return n.source=this,n}}return e.create=(t,n)=>new gr(t,n),e})(),gr=class extends Fe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:bi}};var pn=class extends Fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var gn=new O(e=>e.complete());function gc(e){return e&&w(e.schedule)}function mc(e){return e[e.length-1]}function mr(e){return w(mc(e))?e.pop():void 0}function Ve(e){return gc(mc(e))?e.pop():void 0}function vc(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}function yc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(e){return this instanceof Je?(this.v=e,this):new Je(e)}function wc(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(g){return Promise.resolve(g).then(f,d)}}function a(f,g){r[f]&&(o[f]=function(m){return new Promise(function(y,b){i.push([f,m,y,b])>1||c(f,m)})},g&&(o[f]=g(o[f])))}function c(f,g){try{l(r[f](g))}catch(m){p(i[0][3],m)}}function l(f){f.value instanceof Je?Promise.resolve(f.value.v).then(u,d):p(i[0][2],f)}function u(f){c("next",f)}function d(f){c("throw",f)}function p(f,g){f(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function _c(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yc=="function"?yc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var yr=e=>e&&typeof e.length=="number"&&typeof e!="function";function vr(e){return w(e?.then)}function wr(e){return w(e[Nt])}function _r(e){return Symbol.asyncIterator&&w(e?.[Symbol.asyncIterator])}function br(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Eh(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ir=Eh();function Er(e){return w(e?.[Ir])}function Dr(e){return wc(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:o}=yield Je(n.read());if(o)return yield Je(void 0);yield yield Je(r)}}finally{n.releaseLock()}})}function xr(e){return w(e?.getReader)}function j(e){if(e instanceof O)return e;if(e!=null){if(wr(e))return Dh(e);if(yr(e))return xh(e);if(vr(e))return Th(e);if(_r(e))return bc(e);if(Er(e))return Ch(e);if(xr(e))return Mh(e)}throw br(e)}function Dh(e){return new O(t=>{let n=e[Nt]();if(w(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function xh(e){return new O(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Th(e){return new O(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,hr)})}function Ch(e){return new O(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function bc(e){return new O(t=>{Sh(e,t).catch(n=>t.error(n))})}function Mh(e){return bc(Dr(e))}function Sh(e,t){var n,r,o,i;return vc(this,void 0,void 0,function*(){try{for(n=_c(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})}function Q(e,t,n,r=0,o=!1){let i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function Tr(e,t=0){return M((n,r)=>{n.subscribe(T(r,o=>Q(r,e,()=>r.next(o),t),()=>Q(r,e,()=>r.complete(),t),o=>Q(r,e,()=>r.error(o),t)))})}function Cr(e,t=0){return M((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ic(e,t){return j(e).pipe(Cr(t),Tr(t))}function Ec(e,t){return j(e).pipe(Cr(t),Tr(t))}function Dc(e,t){return new O(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function xc(e,t){return new O(n=>{let r;return Q(n,t,()=>{r=e[Ir](),Q(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>w(r?.return)&&r.return()})}function Mr(e,t){if(!e)throw new Error("Iterable cannot be null");return new O(n=>{Q(n,t,()=>{let r=e[Symbol.asyncIterator]();Q(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Tc(e,t){return Mr(Dr(e),t)}function Cc(e,t){if(e!=null){if(wr(e))return Ic(e,t);if(yr(e))return Dc(e,t);if(vr(e))return Ec(e,t);if(_r(e))return Mr(e,t);if(Er(e))return xc(e,t);if(xr(e))return Tc(e,t)}throw br(e)}function $e(e,t){return t?Cc(e,t):j(e)}function Nh(...e){let t=Ve(e);return $e(e,t)}function kh(e,t){let n=w(e)?e:()=>e,r=o=>o.error(n());return new O(t?o=>t.schedule(r,0,o):r)}function Oh(e){return!!e&&(e instanceof O||w(e.lift)&&w(e.subscribe))}var Ke=Tt(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Ye(e,t){return M((n,r)=>{let o=0;n.subscribe(T(r,i=>{r.next(e.call(t,i,o++))}))})}var{isArray:Ah}=Array;function Rh(e,t){return Ah(t)?e(...t):e(t)}function Sr(e){return Ye(t=>Rh(e,t))}var{isArray:Ph}=Array,{getPrototypeOf:Lh,prototype:jh,keys:Fh}=Object;function Nr(e){if(e.length===1){let t=e[0];if(Ph(t))return{args:t,keys:null};if(Vh(t)){let n=Fh(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Vh(e){return e&&typeof e=="object"&&Lh(e)===jh}function kr(e,t){return e.reduce((n,r,o)=>(n[r]=t[o],n),{})}function $h(...e){let t=Ve(e),n=mr(e),{args:r,keys:o}=Nr(e);if(r.length===0)return $e([],t);let i=new O(Hh(r,t,o?s=>kr(o,s):X));return n?i.pipe(Sr(n)):i}function Hh(e,t,n=X){return r=>{Mc(t,()=>{let{length:o}=e,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)Mc(t,()=>{let l=$e(e[c],t),u=!1;l.subscribe(T(r,d=>{i[c]=d,u||(u=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Mc(e,t,n){e?Q(n,e,t):t()}function Sc(e,t,n,r,o,i,s,a){let c=[],l=0,u=0,d=!1,p=()=>{d&&!c.length&&!l&&t.complete()},f=m=>l<r?g(m):c.push(m),g=m=>{i&&t.next(m),l++;let y=!1;j(n(m,u++)).subscribe(T(t,b=>{o?.(b),i?f(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(l--;c.length&&l<r;){let b=c.shift();s?Q(t,s,()=>g(b)):g(b)}p()}catch(b){t.error(b)}}))};return e.subscribe(T(t,f,()=>{d=!0,p()})),()=>{a?.()}}function Xe(e,t,n=1/0){return w(t)?Xe((r,o)=>Ye((i,s)=>t(r,i,o,s))(j(e(r,o))),n):(typeof t=="number"&&(n=t),M((r,o)=>Sc(r,o,e,n)))}function ki(e=1/0){return Xe(X,e)}function Nc(){return ki(1)}function Or(...e){return Nc()($e(e,Ve(e)))}function Uh(e){return new O(t=>{j(e()).subscribe(t)})}function Bh(...e){let t=mr(e),{args:n,keys:r}=Nr(e),o=new O(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;j(n[u]).subscribe(T(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?kr(r,a):a),i.complete())}))}});return t?o.pipe(Sr(t)):o}function mn(e,t){return M((n,r)=>{let o=0;n.subscribe(T(r,i=>e.call(t,i,o++)&&r.next(i)))})}function kc(e){return M((t,n)=>{let r=null,o=!1,i;r=t.subscribe(T(n,void 0,void 0,s=>{i=j(e(s,kc(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function Oc(e,t,n,r,o){return(i,s)=>{let a=n,c=t,l=0;i.subscribe(T(s,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function qh(e,t){return w(t)?Xe(e,t,1):Xe(e,1)}function yn(e){return M((t,n)=>{let r=!1;t.subscribe(T(n,o=>{r=!0,n.next(o)},()=>{r||n.next(e),n.complete()}))})}function Oi(e){return e<=0?()=>gn:M((t,n)=>{let r=0;t.subscribe(T(n,o=>{++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Ar(e=Wh){return M((t,n)=>{let r=!1;t.subscribe(T(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(e())))})}function Wh(){return new Ke}function zh(e){return M((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Gh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?mn((o,i)=>e(o,i,r)):X,Oi(1),n?yn(t):Ar(()=>new Ke))}function Ai(e){return e<=0?()=>gn:M((t,n)=>{let r=[];t.subscribe(T(n,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function Qh(e,t){let n=arguments.length>=2;return r=>r.pipe(e?mn((o,i)=>e(o,i,r)):X,Ai(1),n?yn(t):Ar(()=>new Ke))}function Zh(e,t){return M(Oc(e,t,arguments.length>=2,!0))}function Jh(...e){let t=Ve(e);return M((n,r)=>{(t?Or(e,n,t):Or(e,n)).subscribe(r)})}function Kh(e,t){return M((n,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();n.subscribe(T(r,c=>{o?.unsubscribe();let l=0,u=i++;j(e(c,u)).subscribe(o=T(r,d=>r.next(t?t(c,d,u,l++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function Yh(e){return M((t,n)=>{j(e).subscribe(T(n,()=>n.complete(),hn)),!n.closed&&t.subscribe(n)})}function Xh(e,t,n){let r=w(e)||t||n?{next:e,error:t,complete:n}:e;return r?M((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(T(i,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),i.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):X}var Il="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",S=class extends Error{code;constructor(t,n){super(tp(t,n)),this.code=t}};function ep(e){return`NG0${Math.abs(e)}`}function tp(e,t){return`${ep(e)}${t?": "+t:""}`}var El=Symbol("InputSignalNode#UNSET"),np=ve(ye({},lr),{transformFn:void 0,applyValueToInputSignal(e,t){un(e,t)}});function Dl(e,t){let n=Object.create(np);n.value=e,n.transformFn=t?.transform;function r(){if(ln(n),n.value===El){let o=null;throw new S(-950,o)}return n.value}return r[re]=n,r}function kn(e){return{toString:e}.toString()}var Rr="__parameters__";function rp(e){return function(...n){if(e){let r=e(...n);for(let o in r)this[o]=r[o]}}}function xl(e,t,n){return kn(()=>{let r=rp(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Rr)?c[Rr]:Object.defineProperty(c,Rr,{value:[]})[Rr];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var kt=globalThis;function R(e){for(let t in e)if(e[t]===R)return t;throw Error("Could not find renamed property on target object.")}function op(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function J(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(J).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Ac(e,t){return e?t?`${e} ${t}`:e:t||""}var ip=R({__forward_ref__:R});function Tl(e){return e.__forward_ref__=Tl,e.toString=function(){return J(this())},e}function z(e){return Cl(e)?e():e}function Cl(e){return typeof e=="function"&&e.hasOwnProperty(ip)&&e.__forward_ref__===Tl}function W(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function GT(e){return{providers:e.providers||[],imports:e.imports||[]}}function wo(e){return Rc(e,Ml)||Rc(e,Sl)}function QT(e){return wo(e)!==null}function Rc(e,t){return e.hasOwnProperty(t)?e[t]:null}function sp(e){let t=e&&(e[Ml]||e[Sl]);return t||null}function Pc(e){return e&&(e.hasOwnProperty(Lc)||e.hasOwnProperty(ap))?e[Lc]:null}var Ml=R({\u0275prov:R}),Lc=R({\u0275inj:R}),Sl=R({ngInjectableDef:R}),ap=R({ngInjectorDef:R}),P=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Nl(e){return e&&!!e.\u0275providers}var cp=R({\u0275cmp:R}),lp=R({\u0275dir:R}),up=R({\u0275pipe:R}),dp=R({\u0275mod:R}),Br=R({\u0275fac:R}),bn=R({__NG_ELEMENT_ID__:R}),jc=R({__NG_ENV_ID__:R});function _o(e){return typeof e=="string"?e:e==null?"":String(e)}function fp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():_o(e)}function kl(e,t){throw new S(-200,e)}function Us(e,t){throw new S(-201,!1)}var C=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(C||{}),Qi;function Ol(){return Qi}function Z(e){let t=Qi;return Qi=e,t}function Al(e,t,n){let r=wo(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&C.Optional)return null;if(t!==void 0)return t;Us(e,"Injector")}var hp={},tt=hp,Zi="__NG_DI_FLAG__",qr=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=n;return this.injector.get(t,r.optional?ur:tt,r)}},Wr="ngTempTokenPath",pp="ngTokenPath",gp=/\n/gm,mp="\u0275",Fc="__source";function yp(e,t=C.Default){if(dn()===void 0)throw new S(-203,!1);if(dn()===null)return Al(e,void 0,t);{let n=dn(),r;return n instanceof qr?r=n.injector:r=n,r.get(e,t&C.Optional?null:void 0,t)}}function qe(e,t=C.Default){return(Ol()||yp)(z(e),t)}function N(e,t=C.Default){return qe(e,bo(t))}function bo(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ji(e){let t=[];for(let n=0;n<e.length;n++){let r=z(e[n]);if(Array.isArray(r)){if(r.length===0)throw new S(900,!1);let o,i=C.Default;for(let s=0;s<r.length;s++){let a=r[s],c=vp(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}t.push(qe(o,i))}else t.push(qe(r))}return t}function Rl(e,t){return e[Zi]=t,e.prototype[Zi]=t,e}function vp(e){return e[Zi]}function wp(e,t,n,r){let o=e[Wr];throw t[Fc]&&o.unshift(t[Fc]),e.message=_p(`
`+e.message,o,n,r),e[pp]=o,e[Wr]=null,e}function _p(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==mp?e.slice(2):e;let o=J(t);if(Array.isArray(t))o=t.map(J).join(" -> ");else if(typeof t=="object"){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):J(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(gp,`
  `)}`}var bp=Rl(xl("Optional"),8);var Ip=Rl(xl("SkipSelf"),4);function rt(e,t){let n=e.hasOwnProperty(Br);return n?e[Br]:null}function Ep(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}function Dp(e){return e.flat(Number.POSITIVE_INFINITY)}function Bs(e,t){e.forEach(n=>Array.isArray(n)?Bs(n,t):t(n))}function Pl(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function zr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function xp(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(o===1)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;){let i=o-2;e[o]=e[i],o--}e[t]=n,e[t+1]=r}}function Tp(e,t,n){let r=On(e,t);return r>=0?e[r|1]=n:(r=~r,xp(e,r,t,n)),r}function Ri(e,t){let n=On(e,t);if(n>=0)return e[n|1]}function On(e,t){return Cp(e,t,1)}function Cp(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<n];if(t===s)return i<<n;s>t?o=i:r=i+1}return~(o<<n)}var ot={},oe=[],Gr=new P(""),Ll=new P("",-1),jl=new P(""),Qr=class{get(t,n=tt){if(n===tt){let r=new Error(`NullInjectorError: No provider for ${J(t)}!`);throw r.name="NullInjectorError",r}return n}};function Fl(e,t){let n=e[dp]||null;if(!n&&t===!0)throw new Error(`Type ${J(e)} does not have '\u0275mod' property.`);return n}function it(e){return e[cp]||null}function Mp(e){return e[lp]||null}function Sp(e){return e[up]||null}function Vl(e){return{\u0275providers:e}}function Np(...e){return{\u0275providers:$l(!0,e),\u0275fromNgModule:!0}}function $l(e,...t){let n=[],r=new Set,o,i=s=>{n.push(s)};return Bs(t,s=>{let a=s;Ki(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&Hl(o,i),n}function Hl(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:o}=e[n];qs(o,i=>{t(i,r)})}}function Ki(e,t,n,r){if(e=z(e),!e)return!1;let o=null,i=Pc(e),s=!i&&it(e);if(!i&&!s){let c=e.ngModule;if(i=Pc(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=e}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Ki(l,t,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{Bs(i.imports,u=>{Ki(u,t,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Hl(l,t)}if(!a){let l=rt(o)||(()=>new o);t({provide:o,useFactory:l,deps:oe},o),t({provide:jl,useValue:o,multi:!0},o),t({provide:Gr,useValue:()=>qe(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=e;qs(c,u=>{t(u,l)})}}else return!1;return o!==e&&e.providers!==void 0}function qs(e,t){for(let n of e)Nl(n)&&(n=n.\u0275providers),Array.isArray(n)?qs(n,t):t(n)}var kp=R({provide:String,useValue:R});function Ul(e){return e!==null&&typeof e=="object"&&kp in e}function Op(e){return!!(e&&e.useExisting)}function Ap(e){return!!(e&&e.useFactory)}function Ft(e){return typeof e=="function"}function Rp(e){return!!e.useClass}var Bl=new P(""),jr={},Vc={},Pi;function Ws(){return Pi===void 0&&(Pi=new Qr),Pi}var We=class{},In=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Xi(t,s=>this.processProvider(s)),this.records.set(Ll,Ot(void 0,this)),o.has("environment")&&this.records.set(We,Ot(void 0,this));let i=this.records.get(Bl);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(jl,oe,C.Self))}retrieve(t,n){let r=n;return this.get(t,r.optional?ur:tt,r)}destroy(){wn(this),this._destroyed=!0;let t=x(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),x(t)}}onDestroy(t){return wn(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){wn(this);let n=Ne(this),r=Z(void 0),o;try{return t()}finally{Ne(n),Z(r)}}get(t,n=tt,r=C.Default){if(wn(this),t.hasOwnProperty(jc))return t[jc](this);r=bo(r);let o,i=Ne(this),s=Z(void 0);try{if(!(r&C.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=Vp(t)&&wo(t);l&&this.injectableDefInScope(l)?c=Ot(Yi(t),jr):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=r&C.Self?Ws():this.parent;return n=r&C.Optional&&n===tt?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Wr]=a[Wr]||[]).unshift(J(t)),i)throw a;return wp(a,t,"R3InjectorError",this.source)}else throw a}finally{Z(s),Ne(i)}}resolveInjectorInitializers(){let t=x(null),n=Ne(this),r=Z(void 0),o;try{let i=this.get(Gr,oe,C.Self);for(let s of i)s()}finally{Ne(n),Z(r),x(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(J(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=z(t);let n=Ft(t)?t:z(t&&t.provide),r=Lp(t);if(!Ft(t)&&t.multi===!0){let o=this.records.get(n);o||(o=Ot(void 0,jr,!0),o.factory=()=>Ji(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=x(null);try{return n.value===Vc?kl(J(t)):n.value===jr&&(n.value=Vc,n.value=n.factory()),typeof n.value=="object"&&n.value&&Fp(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{x(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=z(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yi(e){let t=wo(e),n=t!==null?t.factory:rt(e);if(n!==null)return n;if(e instanceof P)throw new S(204,!1);if(e instanceof Function)return Pp(e);throw new S(204,!1)}function Pp(e){if(e.length>0)throw new S(204,!1);let n=sp(e);return n!==null?()=>n.factory(e):()=>new e}function Lp(e){if(Ul(e))return Ot(void 0,e.useValue);{let t=ql(e);return Ot(t,jr)}}function ql(e,t,n){let r;if(Ft(e)){let o=z(e);return rt(o)||Yi(o)}else if(Ul(e))r=()=>z(e.useValue);else if(Ap(e))r=()=>e.useFactory(...Ji(e.deps||[]));else if(Op(e))r=()=>qe(z(e.useExisting));else{let o=z(e&&(e.useClass||e.provide));if(jp(e))r=()=>new o(...Ji(e.deps));else return rt(o)||Yi(o)}return r}function wn(e){if(e.destroyed)throw new S(205,!1)}function Ot(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jp(e){return!!e.deps}function Fp(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Vp(e){return typeof e=="function"||typeof e=="object"&&e instanceof P}function Xi(e,t){for(let n of e)Array.isArray(n)?Xi(n,t):n&&Nl(n)?Xi(n.\u0275providers,t):t(n)}function Wl(e,t){let n;e instanceof In?(wn(e),n=e):n=new qr(e);let r,o=Ne(n),i=Z(void 0);try{return t()}finally{Ne(o),Z(i)}}function zl(){return Ol()!==void 0||dn()!=null}function $p(e){if(!zl())throw new S(-203,!1)}function Hp(e){return typeof e=="function"}var Ae=0,I=1,v=2,q=3,he=4,pe=5,Zr=6,Jr=7,K=8,st=9,ke=10,$=11,En=12,$c=13,qt=14,_e=15,at=16,At=17,Oe=18,Io=19,Gl=20,Ue=21,Li=22,Kr=23,ie=24,Lt=25,se=26,Ql=1;var ct=7,Yr=8,Vt=9,ee=10;function Be(e){return Array.isArray(e)&&typeof e[Ql]=="object"}function Re(e){return Array.isArray(e)&&e[Ql]===!0}function Zl(e){return(e.flags&4)!==0}function Wt(e){return e.componentOffset>-1}function zs(e){return(e.flags&1)===1}function be(e){return!!e.template}function Xr(e){return(e[v]&512)!==0}function zt(e){return(e[v]&256)===256}var es=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Jl(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var ZT=(()=>{let e=()=>Kl;return e.ngInherit=!0,e})();function Kl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Bp),Up}function Up(){let e=Xl(this),t=e?.current;if(t){let n=e.previous;if(n===ot)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Bp(e,t,n,r,o){let i=this.declaredInputs[r],s=Xl(e)||qp(e,{previous:ot,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new es(l&&l.currentValue,n,c===ot),Jl(e,t,o,n)}var Yl="__ngSimpleChanges__";function Xl(e){return e[Yl]||null}function qp(e,t){return e[Yl]=t}var Hc=null;var A=function(e,t=null,n){Hc?.(e,t,n)},Wp="svg",zp="math";function Ie(e){for(;Array.isArray(e);)e=e[Ae];return e}function eu(e,t){return Ie(t[e])}function De(e,t){return Ie(t[e.index])}function tu(e,t){return e.data[t]}function nu(e,t){return e[t]}function Ee(e,t){let n=t[e];return Be(n)?n:n[Ae]}function Gp(e){return(e[v]&4)===4}function Gs(e){return(e[v]&128)===128}function Qp(e){return Re(e[q])}function eo(e,t){return t==null?null:e[t]}function ru(e){e[At]=0}function ou(e){e[v]&1024||(e[v]|=1024,Gs(e)&&An(e))}function Zp(e,t){for(;e>0;)t=t[qt],e--;return t}function Eo(e){return!!(e[v]&9216||e[ie]?.dirty)}function ts(e){e[ke].changeDetectionScheduler?.notify(8),e[v]&64&&(e[v]|=1024),Eo(e)&&An(e)}function An(e){e[ke].changeDetectionScheduler?.notify(0);let t=lt(e);for(;t!==null&&!(t[v]&8192||(t[v]|=8192,!Gs(t)));)t=lt(t)}function iu(e,t){if(zt(e))throw new S(911,!1);e[Ue]===null&&(e[Ue]=[]),e[Ue].push(t)}function Jp(e,t){if(e[Ue]===null)return;let n=e[Ue].indexOf(t);n!==-1&&e[Ue].splice(n,1)}function lt(e){let t=e[q];return Re(t)?t[q]:t}function Qs(e){return e[Jr]??=[]}function Zs(e){return e.cleanup??=[]}function Kp(e,t,n,r){let o=Qs(t);o.push(n),e.firstCreatePass&&Zs(e).push(r,o.length-1)}var E={lFrame:hu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ns=!1;function Yp(){return E.lFrame.elementDepthCount}function Xp(){E.lFrame.elementDepthCount++}function eg(){E.lFrame.elementDepthCount--}function su(){return E.bindingsEnabled}function tg(){return E.skipHydrationRootTNode!==null}function ng(e){return E.skipHydrationRootTNode===e}function rg(){E.skipHydrationRootTNode=null}function k(){return E.lFrame.lView}function U(){return E.lFrame.tView}function JT(e){return E.lFrame.contextLView=e,e[K]}function KT(e){return E.lFrame.contextLView=null,e}function G(){let e=au();for(;e!==null&&e.type===64;)e=e.parent;return e}function au(){return E.lFrame.currentTNode}function og(){let e=E.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Rn(e,t){let n=E.lFrame;n.currentTNode=e,n.isParent=t}function cu(){return E.lFrame.isParent}function ig(){E.lFrame.isParent=!1}function sg(){return E.lFrame.contextLView}function lu(){return ns}function Uc(e){let t=ns;return ns=e,t}function Js(){let e=E.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ag(e){return E.lFrame.bindingIndex=e}function Do(){return E.lFrame.bindingIndex++}function cg(e){let t=E.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function lg(){return E.lFrame.inI18n}function ug(e,t){let n=E.lFrame;n.bindingIndex=n.bindingRootIndex=e,rs(t)}function dg(){return E.lFrame.currentDirectiveIndex}function rs(e){E.lFrame.currentDirectiveIndex=e}function fg(e){let t=E.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function uu(){return E.lFrame.currentQueryIndex}function Ks(e){E.lFrame.currentQueryIndex=e}function hg(e){let t=e[I];return t.type===2?t.declTNode:t.type===1?e[pe]:null}function du(e,t,n){if(n&C.SkipSelf){let o=t,i=e;for(;o=o.parent,o===null&&!(n&C.Host);)if(o=hg(i),o===null||(i=i[qt],o.type&10))break;if(o===null)return!1;t=o,e=i}let r=E.lFrame=fu();return r.currentTNode=t,r.lView=e,!0}function Ys(e){let t=fu(),n=e[I];E.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function fu(){let e=E.lFrame,t=e===null?null:e.child;return t===null?hu(e):t}function hu(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function pu(){let e=E.lFrame;return E.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var gu=pu;function Xs(){let e=pu();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pg(e){return(E.lFrame.contextLView=Zp(e,E.lFrame.contextLView))[K]}function Gt(){return E.lFrame.selectedIndex}function ut(e){E.lFrame.selectedIndex=e}function ea(){let e=E.lFrame;return tu(e.tView,e.selectedIndex)}function gg(){return E.lFrame.currentNamespace}var mu=!0;function ta(){return mu}function na(e){mu=e}function mg(e,t,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){let s=Kl(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}function yu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Fr(e,t,n){vu(e,t,3,n)}function Vr(e,t,n,r){(e[v]&3)===n&&vu(e,t,n,r)}function ji(e,t){let n=e[v];(n&3)===t&&(n&=16383,n+=1,e[v]=n)}function vu(e,t,n,r){let o=r!==void 0?e[At]&65535:0,i=r??-1,s=t.length-1,a=0;for(let c=o;c<s;c++)if(typeof t[c+1]=="number"){if(a=t[c],r!=null&&a>=r)break}else t[c]<0&&(e[At]+=65536),(a<i||i==-1)&&(yg(e,n,t,c),e[At]=(e[At]&4294901760)+c+2),c++}function Bc(e,t){A(4,e,t);let n=x(null);try{t.call(e)}finally{x(n),A(5,e,t)}}function yg(e,t,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=e[s];o?e[v]>>14<e[At]>>16&&(e[v]&3)===t&&(e[v]+=16384,Bc(a,i)):Bc(a,i)}var jt=-1,dt=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function vg(e){return(e.flags&8)!==0}function wg(e){return(e.flags&16)!==0}function _g(e,t,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{let i=o,s=n[++r];bg(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function wu(e){return e===3||e===4||e===6}function bg(e){return e.charCodeAt(0)===64}function Dn(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let o=t[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?qc(e,n,o,null,t[++r]):qc(e,n,o,null,null))}}return e}function qc(e,t,n,r,o){let i=0,s=e.length;if(t===-1)s=-1;else for(;i<e.length;){let a=e[i++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=i-1;break}}}for(;i<e.length;){let a=e[i];if(typeof a=="number")break;if(a===n){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),o!==null&&e.splice(i++,0,o)}function _u(e){return e!==jt}function to(e){return e&32767}function Ig(e){return e>>16}function no(e,t){let n=Ig(e),r=t;for(;n>0;)r=r[qt],n--;return r}var os=!0;function ro(e){let t=os;return os=e,t}var Eg=256,bu=Eg-1,Iu=5,Dg=0,we={};function xg(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bn)&&(r=n[bn]),r==null&&(r=n[bn]=Dg++);let o=r&bu,i=1<<o;t.data[e+(o>>Iu)]|=i}function oo(e,t){let n=Eu(e,t);if(n!==-1)return n;let r=t[I];r.firstCreatePass&&(e.injectorIndex=t.length,Fi(r.data,e),Fi(t,null),Fi(r.blueprint,null));let o=ra(e,t),i=e.injectorIndex;if(_u(o)){let s=to(o),a=no(o,t),c=a[I].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|c[s+l]}return t[i+8]=o,i}function Fi(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Eu(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function ra(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;o!==null;){if(r=Mu(o),r===null)return jt;if(n++,o=o[qt],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return jt}function is(e,t,n){xg(e,t,n)}function Tg(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,o=0;for(;o<r;){let i=n[o];if(wu(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof n[o]=="string";)o++;else{if(i===t)return n[o+1];o=o+2}}}return null}function Du(e,t,n){if(n&C.Optional||e!==void 0)return e;Us(t,"NodeInjector")}function xu(e,t,n,r){if(n&C.Optional&&r===void 0&&(r=null),(n&(C.Self|C.Host))===0){let o=e[st],i=Z(void 0);try{return o?o.get(t,r,n&C.Optional):Al(t,r,n&C.Optional)}finally{Z(i)}}return Du(r,t,n)}function Tu(e,t,n,r=C.Default,o){if(e!==null){if(t[v]&2048&&!(r&C.Self)){let s=Ng(e,t,n,r,we);if(s!==we)return s}let i=Cu(e,t,n,r,we);if(i!==we)return i}return xu(t,n,r,o)}function Cu(e,t,n,r,o){let i=Mg(n);if(typeof i=="function"){if(!du(t,e,r))return r&C.Host?Du(o,n,r):xu(t,n,r,o);try{let s;if(s=i(r),s==null&&!(r&C.Optional))Us(n);else return s}finally{gu()}}else if(typeof i=="number"){let s=null,a=Eu(e,t),c=jt,l=r&C.Host?t[_e][pe]:null;for((a===-1||r&C.SkipSelf)&&(c=a===-1?ra(e,t):t[a+8],c===jt||!zc(r,!1)?a=-1:(s=t[I],a=to(c),t=no(c,t)));a!==-1;){let u=t[I];if(Wc(i,a,u.data)){let d=Cg(a,t,n,s,r,l);if(d!==we)return d}c=t[a+8],c!==jt&&zc(r,t[I].data[a+8]===l)&&Wc(i,a,t)?(s=u,a=to(c),t=no(c,t)):a=-1}}return o}function Cg(e,t,n,r,o,i){let s=t[I],a=s.data[e+8],c=r==null?Wt(a)&&os:r!=s&&(a.type&3)!==0,l=o&C.Host&&i===a,u=$r(a,s,n,c,l);return u!==null?xn(t,s,u,a):we}function $r(e,t,n,r,o){let i=e.providerIndexes,s=t.data,a=i&1048575,c=e.directiveStart,l=e.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let f=d;f<p;f++){let g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(o){let f=s[c];if(f&&be(f)&&f.type===n)return c}return null}function xn(e,t,n,r){let o=e[n],i=t.data;if(o instanceof dt){let s=o;s.resolving&&kl(fp(i[n]));let a=ro(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Z(s.injectImpl):null,u=du(e,r,C.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&mg(n,i[n],t)}finally{l!==null&&Z(l),ro(a),s.resolving=!1,gu()}}return o}function Mg(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(bn)?e[bn]:void 0;return typeof t=="number"?t>=0?t&bu:Sg:t}function Wc(e,t,n){let r=1<<e;return!!(n[t+(e>>Iu)]&r)}function zc(e,t){return!(e&C.Self)&&!(e&C.Host&&t)}var nt=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Tu(this._tNode,this._lView,t,bo(r),n)}};function Sg(){return new nt(G(),k())}function YT(e){return kn(()=>{let t=e.prototype.constructor,n=t[Br]||ss(t),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Br]||ss(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function ss(e){return Cl(e)?()=>{let t=ss(z(e));return t&&t()}:rt(e)}function Ng(e,t,n,r,o){let i=e,s=t;for(;i!==null&&s!==null&&s[v]&2048&&!Xr(s);){let a=Cu(i,s,n,r|C.Self,we);if(a!==we)return a;let c=i.parent;if(!c){let l=s[Gl];if(l){let u=l.get(n,we,r);if(u!==we)return u}c=Mu(s),s=s[qt]}i=c}return o}function Mu(e){let t=e[I],n=t.type;return n===2?t.declTNode:n===1?e[pe]:null}function XT(e){return Tg(G(),e)}function Gc(e,t=null,n=null,r){let o=Su(e,t,n,r);return o.resolveInjectorInitializers(),o}function Su(e,t=null,n=null,r,o=new Set){let i=[n||oe,Np(e)];return r=r||(typeof e=="object"?void 0:J(e)),new In(i,t||Ws(),r||null,o)}var $t=class e{static THROW_IF_NOT_FOUND=tt;static NULL=new Qr;static create(t,n){if(Array.isArray(t))return Gc({name:""},n,t,"");{let r=t.name??"";return Gc({name:r},t.parent,t.providers,r)}}static \u0275prov=W({token:e,providedIn:"any",factory:()=>qe(Ll)});static __NG_ELEMENT_ID__=-1};var kg=new P("");kg.__NG_ELEMENT_ID__=e=>{let t=G();if(t===null)throw new S(204,!1);if(t.type&2)return t.value;if(e&C.Optional)return null;throw new S(204,!1)};var Nu=!1,oa=(()=>{class e{static __NG_ELEMENT_ID__=Og;static __NG_ENV_ID__=n=>n}return e})(),as=class extends oa{_lView;constructor(t){super(),this._lView=t}onDestroy(t){let n=this._lView;return zt(n)?(t(),()=>{}):(iu(n,t),()=>Jp(n,t))}};function Og(){return new as(k())}var Ht=class{},ia=new P("",{providedIn:"root",factory:()=>!1});var ku=new P(""),Ou=new P(""),xo=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new pn(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})();var cs=class extends Fe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,zl()&&(this.destroyRef=N(oa,{optional:!0})??void 0,this.pendingTasks=N(xo,{optional:!0})??void 0)}emit(t){let n=x(null);try{super.next(t)}finally{x(n)}}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&typeof t=="object"){let c=t;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return t instanceof H&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},He=cs;function io(...e){}function Au(e){let t,n;function r(){e=io;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Qc(e){return queueMicrotask(()=>e()),()=>{e=io}}var sa="isAngularZone",so=sa+"_ID",Ag=0,te=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new He(!1);onMicrotaskEmpty=new He(!1);onStable=new He(!1);onError=new He(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Nu}=t;if(typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,Lg(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sa)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,Rg,io,io);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Rg={};function aa(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Pg(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Au(()=>{e.callbackScheduled=!1,ls(e),e.isCheckStableRunning=!0,aa(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ls(e)}function Lg(e){let t=()=>{Pg(e)},n=Ag++;e._inner=e._inner.fork({name:"angular",properties:{[sa]:!0,[so]:n,[so+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(jg(c))return r.invokeTask(i,s,a,c);try{return Zc(e),r.invokeTask(i,s,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Jc(e)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return Zc(e),r.invoke(i,s,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Fg(c)&&t(),Jc(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ls(e),aa(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ls(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Zc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Jc(e){e._nesting--,aa(e)}var us=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new He;onMicrotaskEmpty=new He;onStable=new He;onError=new He;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}};function jg(e){return Ru(e,"__ignore_ng_zone__")}function Fg(e){return Ru(e,"__scheduler_tick__")}function Ru(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var ft=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Vg=new P("",{providedIn:"root",factory:()=>{let e=N(te),t=N(ft);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Kc(e,t){return Dl(e,t)}function $g(e){return Dl(El,e)}var eC=(Kc.required=$g,Kc);function Hg(){return Qt(G(),k())}function Qt(e,t){return new To(De(e,t))}var To=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=Hg}return e})();function Ug(e){return e instanceof To?e.nativeElement:e}function Bg(e){return typeof e=="function"&&e[re]!==void 0}function tC(e,t){let n=yi(e,t?.equal),r=n[re];return n.set=o=>un(r,o),n.update=o=>vi(r,o),n.asReadonly=qg.bind(n),n}function qg(){let e=this[re];if(e.readonlyFn===void 0){let t=()=>this();t[re]=e,e.readonlyFn=t}return e.readonlyFn}function Pu(e){return Bg(e)&&typeof e.set=="function"}function Wg(){return this._results[Symbol.iterator]()}var ds=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Fe}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Dp(t);(this._changesDetected=!Ep(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Wg};function Lu(e){return(e.flags&128)===128}var ju=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ju||{}),Fu=new Map,zg=0;function Gg(){return zg++}function Qg(e){Fu.set(e[Io],e)}function fs(e){Fu.delete(e[Io])}var Yc="__ngContext__";function Pn(e,t){Be(t)?(e[Yc]=t[Io],Qg(t)):e[Yc]=t}function Vu(e){return Hu(e[En])}function $u(e){return Hu(e[he])}function Hu(e){for(;e!==null&&!Re(e);)e=e[he];return e}var hs;function nC(e){hs=e}function Zg(){if(hs!==void 0)return hs;if(typeof document<"u")return document;throw new S(210,!1)}var Jg=new P("",{providedIn:"root",factory:()=>Kg}),Kg="ng",Yg=new P(""),rC=new P("",{providedIn:"platform",factory:()=>"unknown"});var oC=new P("",{providedIn:"root",factory:()=>Zg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xg="h",em="b";var Uu=!1,tm=new P("",{providedIn:"root",factory:()=>Uu});var ca=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ca||{}),Co=new P(""),Xc=new Set;function la(e){Xc.has(e)||(Xc.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Bu=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=nm}return e})();function nm(){return new Bu(k(),G())}var Rt=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Rt||{}),qu=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})(),rm=[Rt.EarlyRead,Rt.Write,Rt.MixedReadWrite,Rt.Read],om=(()=>{class e{ngZone=N(te);scheduler=N(Ht);errorHandler=N(ft,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Co,{optional:!0})}execute(){let n=this.sequences.size>0;n&&A(16),this.executing=!0;for(let r of rm)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&A(17)}register(n){let{view:r}=n;r!==void 0?((r[Lt]??=[]).push(n),An(r),r[v]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(ca.AFTER_NEXT_RENDER,n):n()}static \u0275prov=W({token:e,providedIn:"root",factory:()=>new e})}return e})(),ps=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,o,i,s=null){this.impl=t,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Lt];t&&(this.view[Lt]=t.filter(n=>n!==this))}};function im(e,t){!t?.injector&&$p(im);let n=t?.injector??N($t);return la("NgAfterNextRender"),am(e,n,t,!0)}function sm(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function am(e,t,n,r){let o=t.get(qu);o.impl??=t.get(om);let i=t.get(Co,null,{optional:!0}),s=n?.phase??Rt.MixedReadWrite,a=n?.manualCleanup!==!0?t.get(oa):null,c=t.get(Bu,null,{optional:!0}),l=new ps(o.impl,sm(e,s),c?.view,r,a,i?.snapshot(null));return o.impl.register(l),l}var cm=()=>null;function Wu(e,t,n=!1){return cm(e,t,n)}function zu(e,t){let n=e.contentQueries;if(n!==null){let r=x(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=e.data[s];Ks(i),a.contentQueries(2,t[s],s)}}}finally{x(r)}}}function gs(e,t,n){Ks(0);let r=x(null);try{t(e,n)}finally{x(r)}}function Gu(e,t,n){if(Zl(t)){let r=x(null);try{let o=t.directiveStart,i=t.directiveEnd;for(let s=o;s<i;s++){let a=e.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{x(r)}}}var Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{});var Pr;function lm(){if(Pr===void 0&&(Pr=null,kt.trustedTypes))try{Pr=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pr}function el(e){return lm()?.createScriptURL(e)||e}var ao=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Il})`}};function ua(e){return e instanceof ao?e.changingThisBreaksApplicationSecurity:e}function Qu(e,t){let n=um(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Il})`)}return n===t}function um(e){return e instanceof ao&&e.getTypeName()||null}var dm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fm(e){return e=String(e),e.match(dm)?e:"unsafe:"+e}var da=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(da||{});function hm(e){let t=Zu();return t?t.sanitize(da.URL,e)||"":Qu(e,"URL")?ua(e):fm(_o(e))}function pm(e){let t=Zu();if(t)return el(t.sanitize(da.RESOURCE_URL,e)||"");if(Qu(e,"ResourceURL"))return el(ua(e));throw new S(904,!1)}function gm(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?pm:hm}function iC(e,t,n){return gm(t,n)(e)}function Zu(){let e=k();return e&&e[ke].sanitizer}function Ju(e){return e instanceof Function?e():e}function mm(e,t,n){let r=e.length;for(;;){let o=e.indexOf(t,n);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}var Ku="ng-template";function ym(e,t,n,r){let o=0;if(r){for(;o<t.length&&typeof t[o]=="string";o+=2)if(t[o]==="class"&&mm(t[o+1].toLowerCase(),n,0)!==-1)return!0}else if(fa(e))return!1;if(o=t.indexOf(1,o),o>-1){let i;for(;++o<t.length&&typeof(i=t[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function fa(e){return e.type===4&&e.value!==Ku}function vm(e,t,n){let r=e.type===4&&!n?Ku:e.value;return t===r}function wm(e,t,n){let r=4,o=e.attrs,i=o!==null?Im(o):0,s=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!s&&!fe(r)&&!fe(c))return!1;if(s&&fe(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!vm(e,c,n)||c===""&&t.length===1){if(fe(r))return!1;s=!0}}else if(r&8){if(o===null||!ym(e,o,c,n)){if(fe(r))return!1;s=!0}}else{let l=t[++a],u=_m(c,o,fa(e),n);if(u===-1){if(fe(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(fe(r))return!1;s=!0}}}}return fe(r)||s}function fe(e){return(e&1)===0}function _m(e,t,n,r){if(t===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){let s=t[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=t[++o];for(;typeof a=="string";)a=t[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return Em(t,e)}function bm(e,t,n=!1){for(let r=0;r<t.length;r++)if(wm(e,t[r],n))return!0;return!1}function Im(e){for(let t=0;t<e.length;t++){let n=e[t];if(wu(n))return t}return e.length}function Em(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function tl(e,t){return e?":not("+t.trim()+")":t}function Dm(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!fe(s)&&(t+=tl(i,o),o=""),r=s,i=i||!fe(r);n++}return o!==""&&(t+=tl(i,o)),t}function xm(e){return e.map(Dm).join(",")}function Tm(e){let t=[],n=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&t.push(i,e[++r]):o===8&&n.push(i);else{if(!fe(o))break;o=i}r++}return n.length&&t.push(1,...n),t}var pt={};function Cm(e,t){return e.createText(t)}function Mm(e,t,n){e.setValue(t,n)}function Yu(e,t,n){return e.createElement(t,n)}function co(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Xu(e,t,n){e.appendChild(t,n)}function nl(e,t,n,r,o){r!==null?co(e,t,n,r,o):Xu(e,t,n)}function Sm(e,t,n){e.removeChild(null,t,n)}function Nm(e,t,n){e.setAttribute(t,"style",n)}function km(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ed(e,t,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&_g(e,t,r),o!==null&&km(e,t,o),i!==null&&Nm(e,t,i)}function ha(e,t,n,r,o,i,s,a,c,l,u){let d=se+r,p=d+o,f=Om(d,p),g=typeof l=="function"?l():l;return f[I]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Om(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:pt);return n}function Am(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ha(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function pa(e,t,n,r,o,i,s,a,c,l,u){let d=t.blueprint.slice();return d[Ae]=o,d[v]=r|4|128|8|64|1024,(l!==null||e&&e[v]&2048)&&(d[v]|=2048),ru(d),d[q]=d[qt]=e,d[K]=n,d[ke]=s||e&&e[ke],d[$]=a||e&&e[$],d[st]=c||e&&e[st]||null,d[pe]=i,d[Io]=Gg(),d[Zr]=u,d[Gl]=l,d[_e]=t.type==2?e[_e]:d,d}function Rm(e,t,n){let r=De(t,e),o=Am(n),i=e[ke].rendererFactory,s=ga(e,pa(e,o,null,td(n),r,t,null,i.createRenderer(r,n),null,null,null));return e[t.index]=s}function td(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function nd(e,t,n,r){if(n===0)return-1;let o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function ga(e,t){return e[En]?e[$c][he]=t:e[En]=t,e[$c]=t,t}function sC(e=1){rd(U(),k(),Gt()+e,!1)}function rd(e,t,n,r){if(!r)if((t[v]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Fr(t,i,n)}else{let i=e.preOrderHooks;i!==null&&Vr(t,i,0,n)}ut(n)}var Mo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Mo||{});function ms(e,t,n,r){let o=x(null);try{let[i,s,a]=e.inputs[n],c=null;(s&Mo.SignalBased)!==0&&(c=t[i][re]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,i):Jl(t,c,i,r)}finally{x(o)}}function od(e,t,n,r,o){let i=Gt(),s=r&2;try{ut(-1),s&&t.length>se&&rd(e,t,se,!1),A(s?2:0,o),n(r,o)}finally{ut(i),A(s?3:1,o)}}function ma(e,t,n){$m(e,t,n),(n.flags&64)===64&&Hm(e,t,n)}function id(e,t,n=De){let r=t.localNames;if(r!==null){let o=t.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(t,e):e[s];e[o++]=a}}}function Pm(e,t,n,r){let i=r.get(tm,Uu)||n===Tn.ShadowDom,s=e.selectRootElement(t,i);return Lm(s),s}function Lm(e){jm(e)}var jm=()=>null;function Fm(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function sd(e,t,n,r,o,i,s,a){if(!a&&ya(t,e,n,r,o)){Wt(t)&&Vm(n,t.index);return}if(t.type&3){let c=De(t,n);r=Fm(r),o=s!=null?s(o,t.value||"",r):o,i.setProperty(c,r,o)}else t.type&12}function Vm(e,t){let n=Ee(t,e);n[v]&16||(n[v]|=64)}function $m(e,t,n){let r=n.directiveStart,o=n.directiveEnd;Wt(n)&&Rm(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||oo(n,t);let i=n.initialInputs;for(let s=r;s<o;s++){let a=e.data[s],c=xn(t,e,s,n);if(Pn(c,t),i!==null&&Wm(t,s-r,c,a,n,i),be(a)){let l=Ee(n.index,t);l[K]=xn(t,e,s,n)}}}function Hm(e,t,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=dg();try{ut(i);for(let a=r;a<o;a++){let c=e.data[a],l=t[a];rs(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Um(c,l)}}finally{ut(-1),rs(s)}}function Um(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function ad(e,t){let n=e.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];bm(t,i.selectors,!1)&&(r??=[],be(i)?r.unshift(i):r.push(i))}return r}function Bm(e,t,n,r,o,i){let s=De(e,t);qm(t[$],s,i,e.value,n,r,o)}function qm(e,t,n,r,o,i,s){if(i==null)e.removeAttribute(t,o,n);else{let a=s==null?_o(i):s(i,r||"",o);e.setAttribute(t,o,a,n)}}function Wm(e,t,n,r,o,i){let s=i[t];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];ms(r,n,c,l)}}function zm(e,t){let n=e[st],r=n?n.get(ft,null):null;r&&r.handleError(t)}function ya(e,t,n,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=t.data[l];ms(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=t.data[c];ms(u,l,r,o),a=!0}return a}function Gm(e,t){let n=Ee(t,e),r=n[I];Qm(r,n);let o=n[Ae];o!==null&&n[Zr]===null&&(n[Zr]=Wu(o,n[st])),A(18),va(r,n,n[K]),A(19,n[K])}function Qm(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function va(e,t,n){Ys(t);try{let r=e.viewQuery;r!==null&&gs(1,r,n);let o=e.template;o!==null&&od(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Oe]?.finishViewCreation(e),e.staticContentQueries&&zu(e,t),e.staticViewQueries&&gs(2,e.viewQuery,n);let i=e.components;i!==null&&Zm(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[v]&=-5,Xs()}}function Zm(e,t){for(let n=0;n<t.length;n++)Gm(e,t[n])}function Jm(e,t,n,r){let o=x(null);try{let i=t.tView,a=e[v]&4096?4096:16,c=pa(e,i,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[at]=l;let u=e[Oe];return u!==null&&(c[Oe]=u.createEmbeddedView(i)),va(i,c,n),c}finally{x(o)}}function rl(e,t){return!t||t.firstChild===null||Lu(e)}var Km;function wa(e,t){return Km(e,t)}var ys=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ys||{});function cd(e){return(e.flags&32)===32}function Pt(e,t,n,r,o){if(r!=null){let i,s=!1;Re(r)?i=r:Be(r)&&(s=!0,r=r[Ae]);let a=Ie(r);e===0&&n!==null?o==null?Xu(t,n,a):co(t,n,a,o||null,!0):e===1&&n!==null?co(t,n,a,o||null,!0):e===2?Sm(t,a,s):e===3&&t.destroyNode(a),i!=null&&ly(t,e,i,n,o)}}function Ym(e,t){ld(e,t),t[Ae]=null,t[pe]=null}function Xm(e,t,n,r,o,i){r[Ae]=o,r[pe]=t,So(e,r,n,1,o,i)}function ld(e,t){t[ke].changeDetectionScheduler?.notify(9),So(e,t,t[$],2,null,null)}function ey(e){let t=e[En];if(!t)return Vi(e[I],e);for(;t;){let n=null;if(Be(t))n=t[En];else{let r=t[ee];r&&(n=r)}if(!n){for(;t&&!t[he]&&t!==e;)Be(t)&&Vi(t[I],t),t=t[q];t===null&&(t=e),Be(t)&&Vi(t[I],t),n=t&&t[he]}t=n}}function _a(e,t){let n=e[Vt],r=n.indexOf(t);n.splice(r,1)}function ud(e,t){if(zt(t))return;let n=t[$];n.destroyNode&&So(e,t,n,3,null,null),ey(t)}function Vi(e,t){if(zt(t))return;let n=x(null);try{t[v]&=-129,t[v]|=256,t[ie]&&pi(t[ie]),ny(e,t),ty(e,t),t[I].type===1&&t[$].destroy();let r=t[at];if(r!==null&&Re(t[q])){r!==t[q]&&_a(r,t);let o=t[Oe];o!==null&&o.detachView(e)}fs(t)}finally{x(n)}}function ty(e,t){let n=e.cleanup,r=t[Jr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Jr]=null);let o=t[Ue];if(o!==null){t[Ue]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=t[Kr];if(i!==null){t[Kr]=null;for(let s of i)s.destroy()}}function ny(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=t[n[r]];if(!(o instanceof dt)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];A(4,a,c);try{c.call(a)}finally{A(5,a,c)}}else{A(4,o,i);try{i.call(o)}finally{A(5,o,i)}}}}}function ry(e,t,n){return oy(e,t.parent,n)}function oy(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ae];if(Wt(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Tn.None||o===Tn.Emulated)return null}return De(r,n)}function iy(e,t,n){return ay(e,t,n)}function sy(e,t,n){return e.type&40?De(e,n):null}var ay=sy,ol;function ba(e,t,n,r){let o=ry(e,r,t),i=t[$],s=r.parent||t[pe],a=iy(s,r,t);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)nl(i,o,n[c],a,!1);else nl(i,o,n,a,!1);ol!==void 0&&ol(i,r,t,n,o)}function _n(e,t){if(t!==null){let n=t.type;if(n&3)return De(t,e);if(n&4)return vs(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return _n(e,r);{let o=e[t.index];return Re(o)?vs(-1,o):Ie(o)}}else{if(n&128)return _n(e,t.next);if(n&32)return wa(t,e)()||Ie(e[t.index]);{let r=dd(e,t);if(r!==null){if(Array.isArray(r))return r[0];let o=lt(e[_e]);return _n(o,r)}else return _n(e,t.next)}}}return null}function dd(e,t){if(t!==null){let r=e[_e][pe],o=t.projection;return r.projection[o]}return null}function vs(e,t){let n=ee+e+1;if(n<t.length){let r=t[n],o=r[I].firstChild;if(o!==null)return _n(r,o)}return t[ct]}function Ia(e,t,n,r,o,i,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&t===0&&(a&&Pn(Ie(a),r),n.flags|=2),!cd(n))if(c&8)Ia(e,t,n.child,r,o,i,!1),Pt(t,e,o,a,i);else if(c&32){let l=wa(n,r),u;for(;u=l();)Pt(t,e,o,u,i);Pt(t,e,o,a,i)}else c&16?cy(e,t,r,n,o,i):Pt(t,e,o,a,i);n=s?n.projectionNext:n.next}}function So(e,t,n,r,o,i){Ia(n,r,e.firstChild,t,o,i,!1)}function cy(e,t,n,r,o,i){let s=n[_e],c=s[pe].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pt(t,e,o,u,i)}else{let l=c,u=s[q];Lu(r)&&(l.flags|=128),Ia(e,t,l,u,o,i,!0)}}function ly(e,t,n,r,o){let i=n[ct],s=Ie(n);i!==s&&Pt(t,e,r,i,o);for(let a=ee;a<n.length;a++){let c=n[a];So(c[I],c,e,t,r,i)}}function uy(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:ys.DashCase;o==null?e.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=ys.Important),e.setStyle(n,r,o,i))}}function lo(e,t,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=t[n.index];i!==null&&r.push(Ie(i)),Re(i)&&dy(i,r);let s=n.type;if(s&8)lo(e,t,n.child,r);else if(s&32){let a=wa(n,t),c;for(;c=a();)r.push(c)}else if(s&16){let a=dd(t,n);if(Array.isArray(a))r.push(...a);else{let c=lt(t[_e]);lo(c[I],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function dy(e,t){for(let n=ee;n<e.length;n++){let r=e[n],o=r[I].firstChild;o!==null&&lo(r[I],r,o,t)}e[ct]!==e[Ae]&&t.push(e[ct])}function fd(e){if(e[Lt]!==null){for(let t of e[Lt])t.impl.addSequence(t);e[Lt].length=0}}var hd=[];function fy(e){return e[ie]??hy(e)}function hy(e){let t=hd.pop()??Object.create(gy);return t.lView=e,t}function py(e){e.lView[ie]!==e&&(e.lView=null,hd.push(e))}var gy=ve(ye({},cn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{An(e.lView)},consumerOnSignalRead(){this.lView[ie]=this}});function my(e){let t=e[ie]??Object.create(yy);return t.lView=e,t}var yy=ve(ye({},cn),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=lt(e.lView);for(;t&&!pd(t[I]);)t=lt(t);t&&ou(t)},consumerOnSignalRead(){this.lView[ie]=this}});function pd(e){return e.type!==2}function gd(e){if(e[Kr]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Kr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[v]&8192)}}var vy=100;function md(e,t=!0,n=0){let o=e[ke].rendererFactory,i=!1;i||o.begin?.();try{wy(e,n)}catch(s){throw t&&zm(e,s),s}finally{i||o.end?.()}}function wy(e,t){let n=lu();try{Uc(!0),ws(e,t);let r=0;for(;Eo(e);){if(r===vy)throw new S(103,!1);r++,ws(e,1)}}finally{Uc(n)}}function _y(e,t,n,r){if(zt(t))return;let o=t[v],i=!1,s=!1;Ys(t);let a=!0,c=null,l=null;i||(pd(e)?(l=fy(t),c=sr(l)):ci()===null?(a=!1,l=my(t),c=sr(l)):t[ie]&&(pi(t[ie]),t[ie]=null));try{ru(t),ag(e.bindingStartIndex),n!==null&&od(e,t,n,2,r);let u=(o&3)===3;if(!i)if(u){let f=e.preOrderCheckHooks;f!==null&&Fr(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Vr(t,f,0,null),ji(t,0)}if(s||by(t),gd(t),yd(t,0),e.contentQueries!==null&&zu(e,t),!i)if(u){let f=e.contentCheckHooks;f!==null&&Fr(t,f)}else{let f=e.contentHooks;f!==null&&Vr(t,f,1),ji(t,1)}Ey(e,t);let d=e.components;d!==null&&wd(t,d,0);let p=e.viewQuery;if(p!==null&&gs(2,p,r),!i)if(u){let f=e.viewCheckHooks;f!==null&&Fr(t,f)}else{let f=e.viewHooks;f!==null&&Vr(t,f,2),ji(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Li]){for(let f of t[Li])f();t[Li]=null}i||(fd(t),t[v]&=-73)}catch(u){throw i||An(t),u}finally{l!==null&&(fi(l,c),a&&py(l)),Xs()}}function yd(e,t){for(let n=Vu(e);n!==null;n=$u(n))for(let r=ee;r<n.length;r++){let o=n[r];vd(o,t)}}function by(e){for(let t=Vu(e);t!==null;t=$u(t)){if(!(t[v]&2))continue;let n=t[Vt];for(let r=0;r<n.length;r++){let o=n[r];ou(o)}}}function Iy(e,t,n){A(18);let r=Ee(t,e);vd(r,n),A(19,r[K])}function vd(e,t){Gs(e)&&ws(e,t)}function ws(e,t){let r=e[I],o=e[v],i=e[ie],s=!!(t===0&&o&16);if(s||=!!(o&64&&t===0),s||=!!(o&1024),s||=!!(i?.dirty&&hi(i)),s||=!1,i&&(i.dirty=!1),e[v]&=-9217,s)_y(r,e,r.template,e[K]);else if(o&8192){gd(e),yd(e,1);let a=r.components;a!==null&&wd(e,a,1),fd(e)}}function wd(e,t,n){for(let r=0;r<t.length;r++)Iy(e,t[r],n)}function Ey(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)ut(~o);else{let i=o,s=n[++r],a=n[++r];ug(s,i);let c=t[i];A(24,c),a(2,c),A(25,c)}}}finally{ut(-1)}}function Ea(e,t){let n=lu()?64:1088;for(e[ke].changeDetectionScheduler?.notify(t);e;){e[v]|=n;let r=lt(e);if(Xr(e)&&!r)return e;e=r}return null}function _d(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Dy(e,t,n,r=!0){let o=t[I];if(xy(o,t,e,n),r){let s=vs(n,e),a=t[$],c=a.parentNode(e[ct]);c!==null&&Xm(o,e[pe],a,t,c,s)}let i=t[Zr];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function _s(e,t){if(e.length<=ee)return;let n=ee+t,r=e[n];if(r){let o=r[at];o!==null&&o!==e&&_a(o,r),t>0&&(e[n-1][he]=r[he]);let i=zr(e,ee+t);Ym(r[I],r);let s=i[Oe];s!==null&&s.detachView(i[I]),r[q]=null,r[he]=null,r[v]&=-129}return r}function xy(e,t,n,r){let o=ee+r,i=n.length;r>0&&(n[o-1][he]=t),r<i-ee?(t[he]=n[o],Pl(n,ee+r,t)):(n.push(t),t[he]=null),t[q]=n;let s=t[at];s!==null&&n!==s&&bd(s,t);let a=t[Oe];a!==null&&a.insertView(e),ts(t),t[v]|=128}function bd(e,t){let n=e[Vt],r=t[q];if(Be(r))e[v]|=2;else{let o=r[q][_e];t[_e]!==o&&(e[v]|=2)}n===null?e[Vt]=[t]:n.push(t)}var Cn=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[I];return lo(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[K]}set context(t){this._lView[K]=t}get destroyed(){return zt(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[q];if(Re(t)){let n=t[Yr],r=n?n.indexOf(this):-1;r>-1&&(_s(t,r),zr(n,r))}this._attachedToViewContainer=!1}ud(this._lView[I],this._lView)}onDestroy(t){iu(this._lView,t)}markForCheck(){Ea(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[v]&=-129}reattach(){ts(this._lView),this._lView[v]|=128}detectChanges(){this._lView[v]|=1024,md(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Xr(this._lView),n=this._lView[at];n!==null&&!t&&_a(n,this._lView),ld(this._lView[I],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t;let n=Xr(this._lView),r=this._lView[at];r!==null&&!n&&bd(r,this._lView),ts(this._lView)}};var uo=(()=>{class e{static __NG_ELEMENT_ID__=My}return e})(),Ty=uo,Cy=class extends Ty{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let o=Jm(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Cn(o)}};function My(){return Da(G(),k())}function Da(e,t){return e.type&4?new Cy(t,e,Qt(e,t)):null}function xa(e,t,n,r,o){let i=e.data[t];if(i===null)i=Sy(e,t,n,r,o),lg()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=og();i.injectorIndex=s===null?-1:s.injectorIndex}return Rn(i,!0),i}function Sy(e,t,n,r,o){let i=au(),s=cu(),a=s?i:i&&i.parent,c=e.data[t]=ky(e,a,n,t,r,o);return Ny(e,c,i,s),c}function Ny(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function ky(e,t,n,r,o,i){let s=t?t.injectorIndex:-1,a=0;return tg()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lC=new RegExp(`^(\\d+)*(${em}|${Xg})*(.*)`);var Oy=()=>null;function il(e,t){return Oy(e,t)}var Ay=class{},Id=class{},bs=class{resolveComponentFactory(t){throw Error(`No component factory found for ${J(t)}.`)}},No=class{static NULL=new bs},fo=class{},hC=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ry()}return e})();function Ry(){let e=k(),t=G(),n=Ee(t.index,e);return(Be(n)?n:e)[$]}var Py=(()=>{class e{static \u0275prov=W({token:e,providedIn:"root",factory:()=>null})}return e})();var $i={},Is=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=bo(r);let o=this.injector.get(t,$i,r);return o!==$i||n===$i?o:this.parentInjector.get(t,n,r)}};function sl(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")i=a;else if(i==1)o=Ac(o,a);else if(i==2){let c=a,l=t[++s];r=Ac(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function ko(e,t=C.Default){let n=k();if(n===null)return qe(e,t);let r=G();return Tu(r,n,z(e),t)}function pC(){let e="invalid";throw new Error(e)}function Ed(e,t,n,r,o){let i=r===null?null:{"":-1},s=o(e,n);if(s!==null){let a,c=null,l=null,u=jy(s);u===null?a=s:[a,c,l]=u,$y(e,t,n,a,i,c,l)}i!==null&&r!==null&&Ly(n,r,i)}function Ly(e,t,n){let r=e.localNames=[];for(let o=0;o<t.length;o+=2){let i=n[t[o+1]];if(i==null)throw new S(-301,!1);r.push(t[o],i)}}function jy(e){let t=null,n=!1;for(let s=0;s<e.length;s++){let a=e[s];if(s===0&&be(a)&&(t=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,Fy(s,r,i,o)),s===t&&(r??=[],r.push(s));return r!==null?(r.push(...t===null?e:e.slice(1)),[r,o,i]):null}function Fy(e,t,n,r){let o=t.length;e.findHostDirectiveDefs(e,t,r),n.set(e,[o,t.length-1])}function Vy(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function $y(e,t,n,r,o,i,s){let a=r.length,c=!1;for(let p=0;p<a;p++){let f=r[p];!c&&be(f)&&(c=!0,Vy(e,n,p)),is(oo(n,t),e,f.type)}zy(n,e.data.length,a);for(let p=0;p<a;p++){let f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,u=!1,d=nd(e,t,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let f=r[p];if(n.mergedAttrs=Dn(n.mergedAttrs,f.hostAttrs),Uy(e,n,t,d,f),Wy(d,f,o),s!==null&&s.has(f)){let[m,y]=s.get(f);n.directiveToIndex.set(f.type,[d,m+n.directiveStart,y+n.directiveStart])}else(i===null||!i.has(f))&&n.directiveToIndex.set(f.type,d);f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!l&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!u&&(g.ngOnChanges||g.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}Hy(e,n,i)}function Hy(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let o=e.data[r];if(n===null||!n.has(o))al(0,t,o,r),al(1,t,o,r),ll(t,r,!1);else{let i=n.get(o);cl(0,t,i,r),cl(1,t,i,r),ll(t,r,!0)}}}function al(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=t.inputs??={}:s=t.outputs??={},s[i]??=[],s[i].push(r),Dd(t,i)}}function cl(e,t,n,r){let o=e===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;e===0?a=t.hostDirectiveInputs??={}:a=t.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),Dd(t,s)}}function Dd(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function ll(e,t,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!n&&o===null||n&&i===null||fa(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===t){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===t){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}e.initialInputs??=[],e.initialInputs.push(s)}function Uy(e,t,n,r,o){e.data[r]=o;let i=o.factory||(o.factory=rt(o.type,!0)),s=new dt(i,be(o),ko);e.blueprint[r]=s,n[r]=s,By(e,t,r,nd(e,n,o.hostVars,pt),o)}function By(e,t,n,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;qy(s)!=a&&s.push(a),s.push(n,r,i)}}function qy(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Wy(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;be(t)&&(n[""]=e)}}function zy(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function xd(e,t,n,r,o,i,s,a){let c=t.consts,l=eo(c,s),u=xa(t,e,2,r,l);return i&&Ed(t,n,u,eo(c,a),o),u.mergedAttrs=Dn(u.mergedAttrs,u.attrs),u.attrs!==null&&sl(u,u.attrs,!1),u.mergedAttrs!==null&&sl(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function Td(e,t){yu(e,t),Zl(t)&&e.queries.elementEnd(t)}var ho=class extends No{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=it(t);return new Ut(n,this.ngModule)}};function Gy(e){return Object.keys(e).map(t=>{let[n,r,o]=e[t],i={propName:n,templateName:t,isSignal:(r&Mo.SignalBased)!==0};return o&&(i.transform=o),i})}function Qy(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Zy(e,t,n){let r=t instanceof We?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Is(n,r):n}function Jy(e){let t=e.get(fo,null);if(t===null)throw new S(407,!1);let n=e.get(Py,null),r=e.get(Ht,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function Ky(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Yu(t,n,n==="svg"?Wp:n==="math"?zp:null)}var Ut=class extends Id{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Gy(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Qy(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=xm(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,o){A(22);let i=x(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:Tm(this.componentDef.selectors[0]),c=ha(0,null,null,1,0,null,null,null,null,[a],null),l=Zy(s,o||this.ngModule,t),u=Jy(l),d=u.rendererFactory.createRenderer(null,s),p=r?Pm(d,r,s.encapsulation,l):Ky(s,d),f=pa(null,c,null,512|td(s),null,null,u,d,l,null,Wu(p,l,!0));f[se]=p,Ys(f);let g=null;try{let m=xd(se,c,f,"#host",()=>[this.componentDef],!0,0);p&&(ed(d,p,m),Pn(p,f)),ma(c,f,m),Gu(c,m,f),Td(c,m),n!==void 0&&Yy(m,this.ngContentSelectors,n),g=Ee(m.index,f),f[K]=g[K],va(c,f,null)}catch(m){throw g!==null&&fs(g),fs(f),m}finally{A(23),Xs()}return new Es(this.componentType,f)}finally{x(i)}}},Es=class extends Ay{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=tu(n[I],se),this.location=Qt(this._tNode,n),this.instance=Ee(this._tNode.index,n)[K],this.hostView=this.changeDetectorRef=new Cn(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView,i=ya(r,o[I],o,t,n);this.previousInputValues.set(t,n);let s=Ee(r.index,o);Ea(s,1)}get injector(){return new nt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Yy(e,t,n){let r=e.projection=[];for(let o=0;o<t.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Ta=(()=>{class e{static __NG_ELEMENT_ID__=Xy}return e})();function Xy(){let e=G();return Md(e,k())}var ev=Ta,Cd=class extends ev{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Qt(this._hostTNode,this._hostLView)}get injector(){return new nt(this._hostTNode,this._hostLView)}get parentInjector(){let t=ra(this._hostTNode,this._hostLView);if(_u(t)){let n=no(t,this._hostLView),r=to(t),o=n[I].data[r+8];return new nt(o,n)}else return new nt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ul(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-ee}createEmbeddedView(t,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=il(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,rl(this._hostTNode,s)),a}createComponent(t,n,r,o,i){let s=t&&!Hp(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}let c=s?t:new Ut(it(t)),l=r||this.parentInjector;if(!i&&c.ngModule==null){let m=(s?l:this.parentInjector).get(We,null);m&&(i=m)}let u=it(c.componentType??{}),d=il(this._lContainer,u?.id??null),p=d?.firstChild??null,f=c.create(l,o,p,i);return this.insertImpl(f.hostView,a,rl(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let o=t._lView;if(Qp(o)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=o[q],l=new Cd(c,c[pe],c[q]);l.detach(l.indexOf(t))}}let i=this._adjustIndex(n),s=this._lContainer;return Dy(s,o,i,r),t.attachToViewContainerRef(),Pl(Hi(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ul(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=_s(this._lContainer,n);r&&(zr(Hi(this._lContainer),n),ud(r[I],r))}detach(t){let n=this._adjustIndex(t,-1),r=_s(this._lContainer,n);return r&&zr(Hi(this._lContainer),n)!=null?new Cn(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ul(e){return e[Yr]}function Hi(e){return e[Yr]||(e[Yr]=[])}function Md(e,t){let n,r=t[e.index];return Re(r)?n=r:(n=_d(r,t,null,e),t[e.index]=n,ga(t,n)),nv(n,t,e,r),new Cd(n,e,t)}function tv(e,t){let n=e[$],r=n.createComment(""),o=De(t,e),i=n.parentNode(o);return co(n,i,r,n.nextSibling(o),!1),r}var nv=iv,rv=()=>!1;function ov(e,t,n){return rv(e,t,n)}function iv(e,t,n,r){if(e[ct])return;let o;n.type&8?o=Ie(r):o=tv(t,n),e[ct]=o}var Ds=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},xs=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){let s=n.getByIndex(i),a=this.queries[s.indexInDeclarationView];o.push(a.clone())}return new e(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Ca(t,n).matches!==null&&this.queries[n].setDirty()}},po=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=hv(t):this.predicate=t}},Ts=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let o=n!==null?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,n!==null?n.push(i):n=[i])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Cs=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){let i=r[o];this.matchTNodeWithReadOption(t,n,sv(n,i)),this.matchTNodeWithReadOption(t,n,$r(n,t,i,!1,!1))}else r===uo?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,$r(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let o=this.metadata.read;if(o!==null)if(o===To||o===Ta||o===uo&&n.type&4)this.addMatch(n.index,-2);else{let i=$r(n,t,o,!1,!1);i!==null&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function sv(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function av(e,t){return e.type&11?Qt(e,t):e.type&4?Da(e,t):null}function cv(e,t,n,r){return n===-1?av(t,e):n===-2?lv(e,t,r):xn(e,e[I],n,t)}function lv(e,t,n){if(n===To)return Qt(t,e);if(n===uo)return Da(t,e);if(n===Ta)return Md(t,e)}function Sd(e,t,n,r){let o=t[Oe].queries[r];if(o.matches===null){let i=e.data,s=n.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let l=s[c];if(l<0)a.push(null);else{let u=i[l];a.push(cv(t,u,s[c+1],n.metadata.read))}}o.matches=a}return o.matches}function Ms(e,t,n,r){let o=e.queries.getByIndex(n),i=o.matches;if(i!==null){let s=Sd(e,t,o,n);for(let a=0;a<i.length;a+=2){let c=i[a];if(c>0)r.push(s[a/2]);else{let l=i[a+1],u=t[-c];for(let d=ee;d<u.length;d++){let p=u[d];p[at]===p[q]&&Ms(p[I],p,l,r)}if(u[Vt]!==null){let d=u[Vt];for(let p=0;p<d.length;p++){let f=d[p];Ms(f[I],f,l,r)}}}}}return r}function uv(e,t){return e[Oe].queries[t].queryList}function Nd(e,t,n){let r=new ds((n&4)===4);return Kp(e,t,r,r.destroy),(t[Oe]??=new xs).queries.push(new Ds(r))-1}function dv(e,t,n){let r=U();return r.firstCreatePass&&(kd(r,new po(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Nd(r,k(),t)}function fv(e,t,n,r){let o=U();if(o.firstCreatePass){let i=G();kd(o,new po(t,n,r),i.index),pv(o,e),(n&2)===2&&(o.staticContentQueries=!0)}return Nd(o,k(),n)}function hv(e){return e.split(",").map(t=>t.trim())}function kd(e,t,n){e.queries===null&&(e.queries=new Ts),e.queries.track(new Cs(t,n))}function pv(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Ca(e,t){return e.queries.getByIndex(t)}function gv(e,t){let n=e[I],r=Ca(n,t);return r.crossesNgTemplate?Ms(n,e,t,[]):Sd(n,e,r,t)}var Mn=class{},mv=class{};var Ss=class extends Mn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new ho(this);constructor(t,n,r,o=!0){super(),this.ngModuleType=t,this._parent=n;let i=Fl(t);this._bootstrapComponents=Ju(i.bootstrap),this._r3Injector=Su(t,n,[{provide:Mn,useValue:this},{provide:No,useValue:this.componentFactoryResolver},...r],J(t),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ns=class extends mv{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ss(this.moduleType,t,[])}};var go=class extends Mn{injector;componentFactoryResolver=new ho(this);instance=null;constructor(t){super();let n=new In([...t.providers,{provide:Mn,useValue:this},{provide:No,useValue:this.componentFactoryResolver}],t.parent||Ws(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function yv(e,t,n=null){return new go({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var vv=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=$l(!1,n.type),o=r.length>0?yv([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(qe(We))})}return e})();function vC(e){return kn(()=>{let t=Od(e),n=ve(ye({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ju.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?o=>o.get(vv).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||oe,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&la("NgStandalone"),Ad(n);let r=e.dependencies;return n.directiveDefs=dl(r,!1),n.pipeDefs=dl(r,!0),n.id=Ev(n),n})}function wv(e){return it(e)||Mp(e)}function _v(e){return e!==null}function wC(e){return kn(()=>({type:e.type,bootstrap:e.bootstrap||oe,declarations:e.declarations||oe,imports:e.imports||oe,exports:e.exports||oe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function bv(e,t){if(e==null)return ot;let n={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Mo.None,c=null),n[i]=[r,a,c],t[i]=s}return n}function Iv(e){if(e==null)return ot;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _C(e){return kn(()=>{let t=Od(e);return Ad(t),t})}function bC(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Od(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ot,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||oe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bv(e.inputs,t),outputs:Iv(e.outputs),debugInfo:null}}function Ad(e){e.features?.forEach(t=>t(e))}function dl(e,t){if(!e)return null;let n=t?Sp:wv;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(_v)}function Ev(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Dv(e){return Object.getPrototypeOf(e.prototype).constructor}function xv(e){let t=Dv(e.type),n=!0,r=[e];for(;t;){let o;if(be(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);let s=e;s.inputs=Ui(e.inputs),s.declaredInputs=Ui(e.declaredInputs),s.outputs=Ui(e.outputs);let a=o.hostBindings;a&&Nv(e,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Mv(e,c),l&&Sv(e,l),Tv(e,o),op(e.outputs,o.outputs),be(o)&&o.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(e),a===xv&&(n=!1)}}t=Object.getPrototypeOf(t)}Cv(r)}function Tv(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Cv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Dn(o.hostAttrs,n=Dn(n,o.hostAttrs))}}function Ui(e){return e===ot?{}:e===oe?[]:e}function Mv(e,t){let n=e.viewQuery;n?e.viewQuery=(r,o)=>{t(r,o),n(r,o)}:e.viewQuery=t}function Sv(e,t){let n=e.contentQueries;n?e.contentQueries=(r,o,i)=>{t(r,o,i),n(r,o,i)}:e.contentQueries=t}function Nv(e,t){let n=e.hostBindings;n?e.hostBindings=(r,o)=>{t(r,o),n(r,o)}:e.hostBindings=t}function Rd(e){return Ov(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function kv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function Ov(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Pd(e,t,n){return e[t]=n}function ze(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Ld(e,t,n,r){let o=ze(e,t,n);return ze(e,t+1,r)||o}function Av(e,t,n,r,o){let i=Ld(e,t,n,r);return ze(e,t+2,o)||i}function Rv(e,t,n,r,o,i,s,a,c){let l=t.consts,u=xa(t,e,4,s||null,a||null);su()&&Ed(t,n,u,eo(l,c),ad),u.mergedAttrs=Dn(u.mergedAttrs,u.attrs),yu(t,u);let d=u.tView=ha(2,u,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Pv(e,t,n,r,o,i,s,a,c,l){let u=n+se,d=t.firstCreatePass?Rv(u,t,e,r,o,i,s,a,c):t.data[u];Rn(d,!1);let p=jv(t,e,d,n);ta()&&ba(t,e,p,d),Pn(p,e);let f=_d(p,e,p,d);return e[u]=f,ga(e,f),ov(f,d,e),zs(d)&&ma(t,e,d),c!=null&&id(e,d,l),d}function Lv(e,t,n,r,o,i,s,a){let c=k(),l=U(),u=eo(l.consts,i);return Pv(c,l,e,t,n,r,o,u,s,a),Lv}var jv=Fv;function Fv(e,t,n,r){return na(!0),t[$].createComment("")}var IC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Vv=new P("");var $v=(()=>{class e{static \u0275prov=W({token:e,providedIn:"root",factory:()=>new ks})}return e})(),ks=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}};function jd(e){return!!e&&typeof e.then=="function"}function Hv(e){return!!e&&typeof e.subscribe=="function"}var Fd=new P("");function EC(e){return Vl([{provide:Fd,multi:!0,useValue:e}])}var Vd=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(Fd,{optional:!0})??[];injector=N($t);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=Wl(this.injector,o);if(jd(i))n.push(i);else if(Hv(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uv=new P("");function Bv(){mi(()=>{throw new S(600,!1)})}function qv(e){return e.isBoundToModule}var Wv=10;var Sn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Vg);afterRenderManager=N(qu);zonelessEnabled=N(ia);rootEffectScheduler=N($v);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Fe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(xo).hasPendingTasks.pipe(Ye(n=>!n));constructor(){N(Co,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=$t.NULL){A(10);let i=n instanceof Id;if(!this._injector.get(Vd).done){let f="";throw new S(405,f)}let a;i?a=n:a=this._injector.get(No).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=qv(a)?void 0:this._injector.get(Mn),l=r||a.selector,u=a.create(o,[],l,c),d=u.location.nativeElement,p=u.injector.get(Vv,null);return p?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Hr(this.components,u),p?.unregisterApplication(d)}),this._loadComponent(u),A(11,u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){A(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ca.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new S(101,!1);let n=x(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,x(n),this.afterTick.next(),A(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Wv;)A(14),this.synchronizeOnce(),A(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)zv(r,o,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Eo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Hr(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Uv,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Hr(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Hr(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function zv(e,t,n,r){if(!n&&!Eo(e))return;md(e,t,n&&!r?0:1)}function Gv(e,t,n,r){let o=k(),i=Do();if(ze(o,i,t)){let s=U(),a=ea();Bm(a,o,e,t,n,r)}return Gv}function Qv(e,t,n,r){return ze(e,Do(),n)?t+_o(n)+r:pt}function Lr(e,t){return e<<17|t<<2}function ht(e){return e>>17&32767}function Zv(e){return(e&2)==2}function Jv(e,t){return e&131071|t<<17}function Os(e){return e|2}function Bt(e){return(e&131068)>>2}function Bi(e,t){return e&-131069|t<<2}function Kv(e){return(e&1)===1}function As(e){return e|1}function Yv(e,t,n,r,o,i){let s=i?t.classBindings:t.styleBindings,a=ht(s),c=Bt(s);e[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||On(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=ht(e[a+1]);e[r+1]=Lr(p,a),p!==0&&(e[p+1]=Bi(e[p+1],r)),e[a+1]=Jv(e[a+1],r)}else e[r+1]=Lr(a,0),a!==0&&(e[a+1]=Bi(e[a+1],r)),a=r;else e[r+1]=Lr(c,0),a===0?a=r:e[c+1]=Bi(e[c+1],r),c=r;l&&(e[r+1]=Os(e[r+1])),fl(e,u,r,!0),fl(e,u,r,!1),Xv(t,u,e,r,i),s=Lr(a,c),i?t.classBindings=s:t.styleBindings=s}function Xv(e,t,n,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof t=="string"&&On(i,t)>=0&&(n[r+1]=As(n[r+1]))}function fl(e,t,n,r){let o=e[n+1],i=t===null,s=r?ht(o):Bt(o),a=!1;for(;s!==0&&(a===!1||i);){let c=e[s],l=e[s+1];ew(c,t)&&(a=!0,e[s+1]=r?As(l):Os(l)),s=r?ht(l):Bt(l)}a&&(e[n+1]=r?Os(o):As(o))}function ew(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?On(e,t)>=0:!1}function tw(e,t,n){let r=k(),o=Do();if(ze(r,o,t)){let i=U(),s=ea();sd(i,s,r,e,t,r[$],n,!1)}return tw}function hl(e,t,n,r,o){ya(t,e,n,o?"class":"style",r)}function nw(e,t){return rw(e,t,null,!0),nw}function rw(e,t,n,r){let o=k(),i=U(),s=cg(2);if(i.firstUpdatePass&&iw(i,e,s,r),t!==pt&&ze(o,s,t)){let a=i.data[Gt()];uw(i,a,o,o[$],e,o[s+1]=dw(t,n),r,s)}}function ow(e,t){return t>=e.expandoStartIndex}function iw(e,t,n,r){let o=e.data;if(o[n+1]===null){let i=o[Gt()],s=ow(e,n);fw(i,r)&&t===null&&!s&&(t=!1),t=sw(o,i,t,r),Yv(o,i,t,n,s,r)}}function sw(e,t,n,r){let o=fg(e),i=r?t.residualClasses:t.residualStyles;if(o===null)(r?t.classBindings:t.styleBindings)===0&&(n=qi(null,e,t,n,r),n=Nn(n,t.attrs,r),i=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==o)if(n=qi(o,e,t,n,r),i===null){let c=aw(e,t,r);c!==void 0&&Array.isArray(c)&&(c=qi(null,e,t,c[1],r),c=Nn(c,t.attrs,r),cw(e,t,r,c))}else i=lw(e,t,r)}return i!==void 0&&(r?t.residualClasses=i:t.residualStyles=i),n}function aw(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Bt(r)!==0)return e[ht(r)]}function cw(e,t,n,r){let o=n?t.classBindings:t.styleBindings;e[ht(o)]=r}function lw(e,t,n){let r,o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=Nn(r,s,n)}return Nn(r,t.attrs,n)}function qi(e,t,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=t[a],r=Nn(r,i.hostAttrs,o),i!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Nn(e,t,n){let r=n?1:2,o=-1;if(t!==null)for(let i=0;i<t.length;i++){let s=t[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Tp(e,s,n?!0:t[++i]))}return e===void 0?null:e}function uw(e,t,n,r,o,i,s,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=Kv(l)?pl(c,t,n,o,Bt(l),s):void 0;if(!mo(u)){mo(i)||Zv(l)&&(i=pl(c,null,n,o,a,s));let d=eu(Gt(),n);uy(r,s,d,o,i)}}function pl(e,t,n,r,o,i){let s=t===null,a;for(;o>0;){let c=e[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===pt&&(p=d?oe:void 0);let f=d?Ri(p,r):u===r?p:void 0;if(l&&!mo(f)&&(f=Ri(c,r)),mo(f)&&(a=f,s))return a;let g=e[o+1];o=s?ht(g):Bt(g)}if(t!==null){let c=i?t.residualClasses:t.residualStyles;c!=null&&(a=Ri(c,r))}return a}function mo(e){return e!==void 0}function dw(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=J(ua(e)))),e}function fw(e,t){return(e.flags&(t?8:16))!==0}function $d(e,t,n,r){let o=k(),i=U(),s=se+e,a=o[$],c=i.firstCreatePass?xd(s,i,o,t,ad,su(),n,r):i.data[s],l=pw(i,o,c,a,t,e);o[s]=l;let u=zs(c);return Rn(c,!0),ed(a,l,c),!cd(c)&&ta()&&ba(i,o,l,c),(Yp()===0||u)&&Pn(l,o),Xp(),u&&(ma(i,o,c),Gu(i,c,o)),r!==null&&id(o,c),$d}function Hd(){let e=G();cu()?ig():(e=e.parent,Rn(e,!1));let t=e;ng(t)&&rg(),eg();let n=U();return n.firstCreatePass&&Td(n,t),t.classesWithoutHost!=null&&vg(t)&&hl(n,t,k(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&wg(t)&&hl(n,t,k(),t.stylesWithoutHost,!1),Hd}function hw(e,t,n,r){return $d(e,t,n,r),Hd(),hw}var pw=(e,t,n,r,o,i)=>(na(!0),Yu(r,o,gg()));function DC(){return k()}var et=void 0;function gw(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var mw=["en",[["a","p"],["AM","PM"],et],[["AM","PM"],et,et],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],et,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],et,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",et,"{1} 'at' {0}",et],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gw],Wi={};function xC(e){let t=vw(e),n=gl(t);if(n)return n;let r=t.split("-")[0];if(n=gl(r),n)return n;if(r==="en")return mw;throw new S(701,!1)}function gl(e){return e in Wi||(Wi[e]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[e]),Wi[e]}var yw=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(yw||{});function vw(e){return e.toLowerCase().replace(/_/g,"-")}var yo="en-US";var ww=yo;function _w(e){typeof e=="string"&&(ww=e.toLowerCase().replace(/_/g,"-"))}function ml(e,t,n){return function r(o){if(o===Function)return n;let i=Wt(e)?Ee(e.index,t):t;Ea(i,5);let s=t[K],a=yl(t,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=yl(t,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function yl(e,t,n,r){let o=x(null);try{return A(6,t,n),n(r)!==!1}catch(i){return bw(e,i),!1}finally{A(7,t,n),x(o)}}function bw(e,t){let n=e[st],r=n?n.get(ft,null):null;r&&r.handleError(t)}function vl(e,t,n,r,o,i){let s=t[n],a=t[I],l=a.data[n].outputs[r],u=s[l],d=a.firstCreatePass?Zs(a):null,p=Qs(t),f=u.subscribe(i),g=p.length;p.push(i,f),d&&d.push(o,e.index,g,-(g+1))}var Iw=new Map;function Ew(e,t,n,r){let o=k(),i=U(),s=G();return Ud(i,o,o[$],s,e,t,r),Ew}function Dw(e,t,n,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=t[Jr],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function Ud(e,t,n,r,o,i,s){let a=zs(r),l=e.firstCreatePass?Zs(e):null,u=Qs(t),d=!0;if(r.type&3||s){let p=De(r,t),f=s?s(p):p,g=u.length,m=s?b=>s(Ie(b[r.index])):r.index,y=null;if(!s&&a&&(y=Dw(e,t,o,r.index)),y!==null){let b=y.__ngLastListenerFn__||y;b.__ngNextListenerFn__=i,y.__ngLastListenerFn__=i,d=!1}else{i=ml(r,t,i);let b=t[st].get(Jg);Iw.get(b)?.(f,o,i);let le=n.listen(f,o,i);u.push(i,le),l&&l.push(o,m,g,g+1)}}else i=ml(r,t,i);if(d){let p=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let g=0;g<f.length;g+=2){let m=f[g],y=f[g+1];vl(r,t,m,y,o,i)}if(p&&p.length)for(let g of p)vl(r,t,g,o,o,i)}}function TC(e=1){return pg(e)}function CC(e,t,n,r){fv(e,t,n,r)}function MC(e,t,n){dv(e,t,n)}function SC(e){let t=k(),n=U(),r=uu();Ks(r+1);let o=Ca(n,r);if(e.dirty&&Gp(t)===((o.metadata.flags&2)===2)){if(o.matches===null)e.reset([]);else{let i=gv(t,r);e.reset(i,Ug),e.notifyOnChanges()}return!0}return!1}function NC(){return uv(k(),uu())}function xw(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function kC(e){let t=sg();return nu(t,se+e)}function OC(e,t=""){let n=k(),r=U(),o=e+se,i=r.firstCreatePass?xa(r,o,1,t,null):r.data[o],s=Tw(r,n,i,t,e);n[o]=s,ta()&&ba(r,n,s,i),Rn(i,!1)}var Tw=(e,t,n,r,o)=>(na(!0),Cm(t[$],r));function Cw(e){return Bd("",e,""),Cw}function Bd(e,t,n){let r=k(),o=Qv(r,e,t,n);return o!==pt&&Mw(r,Gt(),o),Bd}function Mw(e,t,n){let r=eu(t,e);Mm(e[$],r,n)}function Sw(e,t,n){Pu(t)&&(t=t());let r=k(),o=Do();if(ze(r,o,t)){let i=U(),s=ea();sd(i,s,r,e,t,r[$],n,!1)}return Sw}function AC(e,t){let n=Pu(e);return n&&e.set(t),n}function Nw(e,t){let n=k(),r=U(),o=G();return Ud(r,n,n[$],o,e,t),Nw}function kw(e,t,n){let r=U();if(r.firstCreatePass){let o=be(e);Rs(n,r.data,r.blueprint,o,!0),Rs(t,r.data,r.blueprint,o,!1)}}function Rs(e,t,n,r,o){if(e=z(e),Array.isArray(e))for(let i=0;i<e.length;i++)Rs(e[i],t,n,r,o);else{let i=U(),s=k(),a=G(),c=Ft(e)?e:z(e.provide),l=ql(e),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Ft(e)||!e.multi){let f=new dt(l,o,ko),g=Gi(c,t,o?u:u+p,d);g===-1?(is(oo(a,s),i,c),zi(i,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{let f=Gi(c,t,u+p,d),g=Gi(c,t,u,u+p),m=f>=0&&n[f],y=g>=0&&n[g];if(o&&!y||!o&&!m){is(oo(a,s),i,c);let b=Rw(o?Aw:Ow,n.length,o,r,l);!o&&y&&(n[g].providerFactory=b),zi(i,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=qd(n[o?g:f],l,!o&&r);zi(i,e,f>-1?f:g,b)}!o&&r&&y&&n[g].componentProviders++}}}function zi(e,t,n,r){let o=Ft(t),i=Rp(t);if(o||i){let c=(i?z(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function qd(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Gi(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function Ow(e,t,n,r){return Ps(this.multi,[])}function Aw(e,t,n,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xn(n,n[I],this.providerFactory.index,r);i=a.slice(0,s),Ps(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Ps(o,i);return i}function Ps(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function Rw(e,t,n,r,o){let i=new dt(e,n,ko);return i.multi=[],i.index=t,i.componentProviders=0,qd(i,o,r&&!n),i}function RC(e,t=[]){return n=>{n.providersResolver=(r,o)=>kw(r,o?o(e):e,t)}}function PC(e,t,n,r,o){return zd(k(),Js(),e,t,n,r,o)}function LC(e,t,n,r,o,i){return Pw(k(),Js(),e,t,n,r,o,i)}function Wd(e,t){let n=e[t];return n===pt?void 0:n}function zd(e,t,n,r,o,i,s){let a=t+n;return Ld(e,a,o,i)?Pd(e,a+2,s?r.call(s,o,i):r(o,i)):Wd(e,a+2)}function Pw(e,t,n,r,o,i,s,a){let c=t+n;return Av(e,c,o,i,s)?Pd(e,c+3,a?r.call(a,o,i,s):r(o,i,s)):Wd(e,c+3)}function jC(e,t){let n=U(),r,o=e+se;n.firstCreatePass?(r=Lw(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=rt(r.type,!0)),s,a=Z(ko);try{let c=ro(!1),l=i();return ro(c),xw(n,k(),o,l),l}finally{Z(a)}}function Lw(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function FC(e,t,n,r){let o=e+se,i=k(),s=nu(i,o);return jw(i,o)?zd(i,Js(),t,s.transform,n,r,s):s.transform(n,r)}function jw(e,t){return e[I].data[t].pure}var Ls=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},VC=(()=>{class e{compileModuleSync(n){return new Ns(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),o=Fl(n),i=Ju(o.declarations).reduce((s,a)=>{let c=it(a);return c&&s.push(new Ut(c)),s},[]);return new Ls(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Fw=(()=>{class e{zone=N(te);changeDetectionScheduler=N(Ht);applicationRef=N(Sn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Vw=new P("",{factory:()=>!1});function Gd({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new te(ve(ye({},Qd()),{scheduleInRootZone:n})),[{provide:te,useFactory:e},{provide:Gr,multi:!0,useFactory:()=>{let r=N(Fw,{optional:!0});return()=>r.initialize()}},{provide:Gr,multi:!0,useFactory:()=>{let r=N($w);return()=>{r.initialize()}}},t===!0?{provide:ku,useValue:!0}:[],{provide:Ou,useValue:n??Nu}]}function $C(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=Gd({ngZoneFactory:()=>{let o=Qd(e);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&la("NgZone_CoalesceEvent"),new te(o)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Vl([{provide:Vw,useValue:!0},{provide:ia,useValue:!1},r])}function Qd(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var $w=(()=>{class e{subscription=new H;initialized=!1;zone=N(te);pendingTasks=N(xo);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Hw=(()=>{class e{appRef=N(Sn);taskService=N(xo);ngZone=N(te);zonelessEnabled=N(ia);tracing=N(Co,{optional:!0});disableScheduling=N(ku,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new H;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(so):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Ou,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof us||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?Qc:Au;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(so+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Qc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Uw(){return typeof $localize<"u"&&$localize.locale||yo}var Zd=new P("",{providedIn:"root",factory:()=>N(Zd,C.Optional|C.SkipSelf)||Uw()});var js=new P(""),Bw=new P("");function vn(e){return!e.moduleRef}function qw(e){let t=vn(e)?e.r3Injector:e.moduleRef.injector,n=t.get(te);return n.run(()=>{vn(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(ft,null),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),vn(e)){let i=()=>t.destroy(),s=e.platformInjector.get(js);s.add(i),t.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(js);s.add(i),e.moduleRef.onDestroy(()=>{Hr(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return zw(r,n,()=>{let i=t.get(Vd);return i.runInitializers(),i.donePromise.then(()=>{let s=t.get(Zd,yo);if(_w(s||yo),!t.get(Bw,!0))return vn(e)?t.get(Sn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(vn(e)){let c=t.get(Sn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return Ww(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function Ww(e,t){let n=e.injector.get(Sn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new S(-403,!1);t.push(e)}function zw(e,t,n){try{let r=n();return jd(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ur=null;function Gw(e=[],t){return $t.create({name:t,providers:[{provide:Bl,useValue:"platform"},{provide:js,useValue:new Set([()=>Ur=null])},...e]})}function Qw(e=[]){if(Ur)return Ur;let t=Gw(e);return Ur=t,Bv(),Zw(t),t}function Zw(e){let t=e.get(Yg,null);Wl(e,()=>{t?.forEach(n=>n())})}var HC=(()=>{class e{static __NG_ELEMENT_ID__=Jw}return e})();function Jw(e){return Kw(G(),k(),(e&16)===16)}function Kw(e,t,n){if(Wt(e)&&!n){let r=Ee(e.index,t);return new Cn(r,r)}else if(e.type&175){let r=t[_e];return new Cn(r,t)}return null}var Fs=class{constructor(){}supports(t){return Rd(t)}create(t){return new Vs(t)}},Yw=(e,t)=>t,Vs=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||Yw}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<wl(r,o,i)?n:r,a=wl(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let p=0;p<l;p++){let f=p<i.length?i[p]:i[p]=0,g=f+p;u<=g&&g<l&&(i[p]=f+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Rd(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)i=t[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,kv(t,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return t===null?i=this._itTail:(i=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,o),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new $s(n,r),i,o)),t}_verifyReinsertion(t,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let o=t._prevRemoved,i=t._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let o=n===null?this._itHead:n._next;return t._next=o,t._prev=n,o===null?this._itTail=t:o._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new vo),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},$s=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Hs=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vo=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Hs,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,o=this.map.get(r);return o?o.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wl(e,t,n){let r=e.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}function _l(){return new Xw([new Fs])}var Xw=(()=>{class e{factories;static \u0275prov=W({token:e,providedIn:"root",factory:_l});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||_l()),deps:[[e,new Ip,new bp]]}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new S(901,!1)}}return e})();function UC(e){A(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,o=Qw(r),i=[Gd({}),{provide:Ht,useExisting:Hw},...n||[]],s=new go({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return qw({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(t){return Promise.reject(t)}finally{A(9)}}function BC(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function qC(e){return wi(e)}function WC(e,t){return gi(e,t?.equal)}var bl=class{[re];constructor(t){this[re]=t}destroy(){this[re].destroy()}};function zC(e){let t=it(e);if(!t)return null;let n=new Ut(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var Jd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var Ln=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Oo=class extends Ln{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ao=class extends Ln{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Ro=class extends Ln{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Ma=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Ma||{});var e_=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},jn=class{constructor(t,{headers:n={},customFetch:r,region:o=Ma.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=Jd(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return e_(this,void 0,void 0,function*(){try{let{headers:o,method:i,body:s}=n,a={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let l;s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=s):typeof s=="string"?(a["Content-Type"]="text/plain",l=s):typeof FormData<"u"&&s instanceof FormData?l=s:(a["Content-Type"]="application/json",l=JSON.stringify(s)));let u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:l}).catch(g=>{throw new Oo(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new Ao(u);if(!u.ok)throw new Ro(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(o){return{data:null,error:o}}})}};var uf=sh(lf(),1),{PostgrestClient:df,PostgrestQueryBuilder:fM,PostgrestFilterBuilder:hM,PostgrestTransformBuilder:pM,PostgrestBuilder:gM,PostgrestError:f_}=uf.default;var ff="2.11.2";var hf={"X-Client-Info":`realtime-js/${ff}`},pf="1.0.0",Fo=1e4,gf=1e3,Jt=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Jt||{}),ne=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ne||{}),ae=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(ae||{}),$a=function(e){return e.websocket="websocket",e}($a||{}),gt=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(gt||{});var Vo=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let o=n.getUint8(1),i=n.getUint8(2),s=this.HEADER_LENGTH+2,a=r.decode(t.slice(s,s+o));s=s+o;let c=r.decode(t.slice(s,s+i));s=s+i;let l=JSON.parse(r.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:c,payload:l}}};var Kt=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var L=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(L||{}),Ua=(e,t,n={})=>{var r;let o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,s)=>(i[s]=h_(s,e,t,o),i),{})},h_=(e,t,n,r)=>{let o=t.find(a=>a.name===e),i=o?.type,s=n[e];return i&&!r.includes(i)?mf(i,s):Ha(s)},mf=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return y_(t,n)}switch(e){case L.bool:return p_(t);case L.float4:case L.float8:case L.int2:case L.int4:case L.int8:case L.numeric:case L.oid:return g_(t);case L.json:case L.jsonb:return m_(t);case L.timestamp:return v_(t);case L.abstime:case L.date:case L.daterange:case L.int4range:case L.int8range:case L.money:case L.reltime:case L.text:case L.time:case L.timestamptz:case L.timetz:case L.tsrange:case L.tstzrange:return Ha(t);default:return Ha(t)}},Ha=e=>e,p_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},g_=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},m_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y_=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i,s=e.slice(1,n);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>mf(t,a))}return e},v_=e=>typeof e=="string"?e.replace(" ","T"):e,$o=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Yt=class{constructor(t,n,r={},o=Fo){this.channel=t,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var qn=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{let{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=e.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,o){let i=this.cloneDeep(t),s=this.transformState(n),a={},c={};return this.map(i,(l,u)=>{s[l]||(c[l]=u)}),this.map(s,(l,u)=>{let d=i[l];if(d){let p=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),g=u.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>p.indexOf(y.presence_ref)<0);g.length>0&&(a[l]=g),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(t,n,r,o){let{joins:i,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var l;let u=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(c),u.length>0){let d=t[a].map(f=>f.presence_ref),p=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,u,c)}),this.map(s,(a,c)=>{let l=t[a];if(!l)return;let u=c.map(d=>d.presence_ref);l=l.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=l,o(a,l,c),l.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let o=t[r];return"metas"in o?n[r]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Pe=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Pe||{});var Wn=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yt(this,ae.join,this.params,this.timeout),this.rejoinTimer=new Kt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new qn(this),this.broadcastEndpointURL=$o(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:i,presence:s,private:a}}=this.params;this._onError(u=>t?.(Pe.CHANNEL_ERROR,u)),this._onClose(()=>t?.(Pe.CLOSED));let c={},l={broadcast:i,presence:s,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&o!==void 0?o:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",d=>h(this,[d],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){t?.(Pe.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,m=[];for(let y=0;y<g;y++){let b=f[y],{filter:{event:me,schema:le,table:ue,filter:Me}}=b,xt=u&&u[y];if(xt&&xt.event===me&&xt.schema===le&&xt.table===ue&&xt.filter===Me)m.push(Object.assign(Object.assign({},b),{id:xt.id}));else{this.unsubscribe(),t?.(Pe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(Pe.SUBSCRIBED);return}})).receive("error",u=>{t?.(Pe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return h(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return h(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return h(this,arguments,function*(t,n={}){var o,i;if(!this._canPush()&&t.type==="broadcast"){let{event:s,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=n.timeout)!==null&&o!==void 0?o:this.timeout);return yield(i=u.body)===null||i===void 0?void 0:i.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,c,l;let u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{let o=new Yt(this,ae.leave,{},t);o.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_fetchWithTimeout(t,n,r){return h(this,null,function*(){let o=new AbortController,i=setTimeout(()=>o.abort(),r),s=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(i),s})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Yt(this,t,n,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var o,i;let s=t.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ae;if(r&&[a,c,l,u].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(f=>{var g,m,y;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===s}).map(f=>f.callback(p,r)):(i=this.bindings[s])===null||i===void 0||i.filter(f=>{var g,m,y,b,me,le;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in f){let ue=f.id,Me=(g=f.filter)===null||g===void 0?void 0:g.event;return ue&&((m=n.ids)===null||m===void 0?void 0:m.includes(ue))&&(Me==="*"||Me?.toLocaleLowerCase()===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{let ue=(me=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||me===void 0?void 0:me.toLocaleLowerCase();return ue==="*"||ue===((le=n?.event)===null||le===void 0?void 0:le.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===s}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:m,table:y,commit_timestamp:b,type:me,errors:le}=g;p=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:me,new:{},old:{},errors:le}),this._getPayloadRecords(g))}f.callback(p,r)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let o=t.toLocaleLowerCase(),i={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&e.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ae.close,{},t)}_onError(t){this._on(ae.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Ua(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Ua(t.columns,t.old_record)),n}};var __=()=>{},b_=typeof WebSocket<"u",I_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,zn=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=hf,this.params={},this.timeout=Fo,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=__,this.conn=null,this.sendBuffer=[],this.serializer=new Vo,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:c})=>c(...a)):s=fetch,(...a)=>s(...a)},this.endPoint=`${t}/${$a.websocket}`,this.httpEndpoint=$o(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let o=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n?.encode?n.encode:(i,s)=>s(JSON.stringify(i)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kt(()=>h(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(b_){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ba(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pf}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return h(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return h(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Jt.connecting:return gt.Connecting;case Jt.open:return gt.Open;case Jt.closing:return gt.Closing;default:return gt.Closed}}isConnected(){return this.connectionState()===gt.Open}channel(t,n={config:{}}){let r=new Wn(`realtime:${t}`,n,this);return this.channels.push(r),r}push(t){let{topic:n,event:r,payload:o,ref:i}=t,s=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${n} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(t=null){return h(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(o=>{n&&o.updateJoinPayload({access_token:n}),o.joinedOnce&&o._isJoined()&&o._push(ae.access_token,{access_token:n})})}})}sendHeartbeat(){return h(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(gf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:o,payload:i,ref:s}=n;s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){return h(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ae.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${r}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([I_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var Ba=class{constructor(t,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Jt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}};var Xt=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function F(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ho=class extends Xt{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},mt=class extends Xt{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var E_=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},Bo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},yf=()=>E_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),Uo=e=>{if(Array.isArray(e))return e.map(n=>Uo(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let o=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=Uo(r)}),t};var yt=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},qa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D_=(e,t,n)=>yt(void 0,void 0,void 0,function*(){let r=yield yf();e instanceof r&&!n?.noResolveJson?e.json().then(o=>{t(new Ho(qa(o),e.status||500))}).catch(o=>{t(new mt(qa(o),o))}):t(new mt(qa(e),e))}),x_=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),n))};function Gn(e,t,n,r,o,i){return yt(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(n,x_(t,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>D_(c,a,r))})})}function en(e,t,n,r){return yt(this,void 0,void 0,function*(){return Gn(e,"GET",t,n,r)})}function xe(e,t,n,r,o){return yt(this,void 0,void 0,function*(){return Gn(e,"POST",t,r,o,n)})}function vf(e,t,n,r,o){return yt(this,void 0,void 0,function*(){return Gn(e,"PUT",t,r,o,n)})}function wf(e,t,n,r){return yt(this,void 0,void 0,function*(){return Gn(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function qo(e,t,n,r,o){return yt(this,void 0,void 0,function*(){return Gn(e,"DELETE",t,r,o,n)})}var Y=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},T_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Wo=class{constructor(t,n={},r,o){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Bo(o)}uploadOrUpdate(t,n,r,o){return Y(this,void 0,void 0,function*(){try{let i,s=Object.assign(Object.assign({},_f),o),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)}),c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));let l=this._removeEmptyFolders(n),u=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),p=yield d.json();return d.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(i){if(F(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,o){return Y(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",n);try{let c,l=Object.assign({upsert:_f.upsert},o),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);let d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:u}),p=yield d.json();return d.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(F(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Y(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");let i=yield xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new Xt("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}})}update(t,n,r){return Y(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Y(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(F(o))return{data:null,error:o};throw o}})}copy(t,n,r){return Y(this,void 0,void 0,function*(){try{return{data:{path:(yield xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(F(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),i=yield xe(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(F(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=yield xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(F(o))return{data:null,error:o};throw o}})}download(t,n){return Y(this,void 0,void 0,function*(){let o=typeof n?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(n?.transform||{}),s=i?`?${i}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield en(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(F(a))return{data:null,error:a};throw a}})}info(t){return Y(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield en(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uo(r),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}})}exists(t){return Y(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield wf(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(F(r)&&r instanceof mt){let o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),o=[],i=n?.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&o.push(i);let a=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&o.push(c);let l=o.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}remove(t){return Y(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}list(t,n,r){return Y(this,void 0,void 0,function*(){try{let o=Object.assign(Object.assign(Object.assign({},T_),n),{prefix:t||""});return{data:yield xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(F(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var bf="2.7.1";var If={"X-Client-Info":`storage-js/${bf}`};var tn=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},zo=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},If),n),this.fetch=Bo(r)}listBuckets(){return tn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(F(t))return{data:null,error:t};throw t}})}getBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return tn(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return tn(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}})}emptyBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield xe(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}deleteBucket(t){return tn(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(F(n))return{data:null,error:n};throw n}})}};var Qn=class extends zo{constructor(t,n={},r){super(t,n,r)}from(t){return new Wo(this.url,this.headers,t,this.fetch)}};var Ef="2.49.4";var Zn="";typeof Deno<"u"?Zn="deno":typeof document<"u"?Zn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zn="react-native":Zn="node";var C_={"X-Client-Info":`supabase-js-${Zn}/${Ef}`},Df={headers:C_},xf={schema:"public"},Tf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cf={};tc();var M_=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},S_=e=>{let t;return e?t=e:typeof fetch>"u"?t=Xa:t=fetch,(...n)=>t(...n)},N_=()=>typeof Headers>"u"?ec:Headers,Mf=(e,t,n)=>{let r=S_(n),o=N_();return(i,s)=>M_(void 0,void 0,void 0,function*(){var a;let c=(a=yield t())!==null&&a!==void 0?a:e,l=new o(s?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:l}))})};var k_=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})};function Sf(e){return e.replace(/\/$/,"")}function Nf(e,t){let{db:n,auth:r,realtime:o,global:i}=e,{db:s,auth:a,realtime:c,global:l}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},c),o),global:Object.assign(Object.assign({},l),i),accessToken:()=>k_(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}var Go="2.69.1";var vt=30*1e3,Qo=3,Zo=Qo*vt,kf="http://localhost:9999",Of="supabase.auth.token";var Af={"X-Client-Info":`gotrue-js/${Go}`};var Jn="X-Supabase-Api-Version",Wa={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Rf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pf=6e5;var Kn=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function _(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Jo=class extends Kn{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Lf(e){return _(e)&&e.name==="AuthApiError"}var nn=class extends Kn{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},Te=class extends Kn{constructor(t,n,r,o){super(t,r,o),this.name=n,this.status=r}},ce=class extends Te{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function jf(e){return _(e)&&e.name==="AuthSessionMissingError"}var rn=class extends Te{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},wt=class extends Te{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},_t=class extends Te{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ff(e){return _(e)&&e.name==="AuthImplicitGrantRedirectError"}var Yn=class extends Te{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},on=class extends Te{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Ko(e){return _(e)&&e.name==="AuthRetryableFetchError"}var Xn=class extends Te{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Le=class extends Te{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Vf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$f=` 	
\r=`.split(""),O_=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<$f.length;t+=1)e[$f[t].charCodeAt(0)]=-2;for(let t=0;t<Vf.length;t+=1)e[Vf[t].charCodeAt(0)]=t;return e})();function Hf(e,t,n){let r=O_[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function za(e){let t=[],n=s=>{t.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{P_(s,r,n)};for(let s=0;s<e.length;s+=1)Hf(e.charCodeAt(s),o,i);return t.join("")}function A_(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R_(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let o=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}A_(r,t)}}function P_(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Uf(e){let t=[],n={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Hf(e.charCodeAt(o),n,r);return new Uint8Array(t)}function Bf(e){let t=[];return R_(e,n=>t.push(n)),new Uint8Array(t)}function qf(e){return Math.round(Date.now()/1e3)+e}function Wf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var ge=()=>typeof window<"u"&&typeof document<"u",bt={tested:!1,writable:!1},Ge=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bt.tested)return bt.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bt.tested=!0,bt.writable=!0}catch{bt.tested=!0,bt.writable=!1}return bt.writable};function zf(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return n.searchParams.forEach((r,o)=>{t[o]=r}),t}var Yo=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-BX7VDEVO.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Gf=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ga=(e,t,n)=>h(void 0,null,function*(){yield e.setItem(t,JSON.stringify(n))}),tr=(e,t)=>h(void 0,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),nr=(e,t)=>h(void 0,null,function*(){yield e.removeItem(t)}),er=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};er.promiseConstructor=Promise;function Xo(e){let t=e.split(".");if(t.length!==3)throw new Le("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Rf.test(t[r]))throw new Le("JWT not in base64url format");return{header:JSON.parse(za(t[0])),payload:JSON.parse(za(t[1])),signature:Uf(t[2]),raw:{header:t[0],payload:t[1]}}}function Qf(e){return h(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Zf(e,t){return new Promise((r,o)=>{h(this,null,function*(){for(let i=0;i<1/0;i++)try{let s=yield e(i);if(!t(i,null,s)){r(s);return}}catch(s){if(!t(i,s)){o(s);return}}})})}function L_(e){return("0"+e.toString(16)).substr(-2)}function j_(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,o="";for(let i=0;i<56;i++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,L_).join("")}function F_(e){return h(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})}function V_(e){return h(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield F_(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function It(e,t,n=!1){return h(this,null,function*(){let r=j_(),o=r;n&&(o+="/PASSWORD_RECOVERY"),yield Ga(e,`${t}-code-verifier`,o);let i=yield V_(r);return[i,r===i?"plain":"s256"]})}var $_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Jf(e){let t=e.headers.get(Jn);if(!t||!t.match($_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Kf(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Yf(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var H_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},Et=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U_=[502,503,504];function Xf(e){return h(this,null,function*(){var t;if(!Gf(e))throw new on(Et(e),0);if(U_.includes(e.status))throw new on(Et(e),e.status);let n;try{n=yield e.json()}catch(i){throw new nn(Et(i),i)}let r,o=Jf(e);if(o&&o.getTime()>=Wa["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Xn(Et(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ce}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new Xn(Et(n),e.status,n.weak_password.reasons);throw new Jo(Et(n),e.status||500,r)})}var B_=(e,t,n,r)=>{let o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};function D(e,t,n,r){return h(this,null,function*(){var o;let i=Object.assign({},r?.headers);i[Jn]||(i[Jn]=Wa["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);let s=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);let a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield q_(e,t,n+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function q_(e,t,n,r,o,i){return h(this,null,function*(){let s=B_(t,r,o,i),a;try{a=yield e(n,Object.assign({},s))}catch(c){throw console.error(c),new on(Et(c),0)}if(a.ok||(yield Xf(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield Xf(c)}})}function je(e){var t;let n=null;W_(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=qf(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Qa(e){let t=je(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ce(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function eh(e){return{data:e,error:null}}function th(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i}=e,s=H_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:o,verification_type:i},c=Object.assign({},s);return{data:{properties:a,user:c},error:null}}function nh(e){return e}function W_(e){return e.access_token&&e.refresh_token&&e.expires_in}var z_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n},sn=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Yo(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,n="global"){return h(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}inviteUserByEmail(r){return h(this,arguments,function*(t,n={}){try{return yield D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ce})}catch(o){if(_(o))return{data:{user:null},error:o};throw o}})}generateLink(t){return h(this,null,function*(){try{let{options:n}=t,r=z_(t,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),yield D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:th,redirectTo:n?.redirectTo})}catch(n){if(_(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return h(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ce})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return h(this,null,function*(){var n,r,o,i,s,a,c;try{let l={nextPage:null,lastPage:0,total:0},u=yield D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:nh});if(u.error)throw u.error;let d=yield u.json(),p=(s=u.headers.get("x-total-count"))!==null&&s!==void 0?s:0,f=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{let m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);l[`${y}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(_(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return h(this,null,function*(){try{return yield D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ce})}catch(n){if(_(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return h(this,null,function*(){try{return yield D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ce})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return h(this,null,function*(){try{return yield D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ce})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return h(this,null,function*(){try{let{data:n,error:r}=yield D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(_(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return h(this,null,function*(){try{return{data:yield D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(_(n))return{data:null,error:n};throw n}})}};var rh={getItem:e=>Ge()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ge()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ge()&&globalThis.localStorage.removeItem(e)}};function Za(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function oh(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Dt={debug:!!(globalThis&&Ge()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},rr=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ei=class extends rr{};function Ja(e,t,n){return h(this,null,function*(){Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},o=>h(this,null,function*(){if(o){Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return yield n()}finally{Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ei(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dt.debug)try{let i=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}oh();var G_={url:kf,storageKey:Of,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Af,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ih(e,t,n){return h(this,null,function*(){return yield n()})}var Ka=(()=>{class e{constructor(n){var r,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let i=Object.assign(Object.assign({},G_),n);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new sn({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yo(i.fetch),this.lock=i.lock||ih,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ge()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Ja:this.lock=ih,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Ge()?this.storage=rh:(this.memoryStorage={},this.storage=Za(this.memoryStorage)):(this.memoryStorage={},this.storage=Za(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",s=>h(this,null,function*(){this._debug("received broadcast notification from other tab or client",s),yield this._notifyAllSubscribers(s.data.event,s.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Go}) ${new Date().toISOString()}`,...n),this}initialize(){return h(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=h(this,null,function*(){return yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return h(this,null,function*(){var n;try{let r=zf(window.location.href),o="none";if(this._isImplicitGrantCallback(r)?o="implicit":(yield this._isPKCECallback(r))&&(o="pkce"),ge()&&this.detectSessionInUrl&&o!=="none"){let{data:i,error:s}=yield this._getSessionFromURL(r,o);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Ff(s)){let l=(n=s.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return yield this._removeSession(),{error:s}}let{session:a,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),yield this._saveSession(a),setTimeout(()=>h(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new nn("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return h(this,null,function*(){var r,o,i;try{let s=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(i=n?.options)===null||i===void 0?void 0:i.captchaToken}},xform:je}),{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signUp(n){return h(this,null,function*(){var r,o,i;try{let s;if("email"in n){let{email:d,password:p,options:f}=n,g=null,m=null;this.flowType==="pkce"&&([g,m]=yield It(this.storage,this.storageKey)),s=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:d,password:p,data:(r=f?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:je})}else if("phone"in n){let{phone:d,password:p,options:f}=n;s=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(o=f?.data)!==null&&o!==void 0?o:{},channel:(i=f?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:je})}else throw new wt("You must provide either an email or phone number and a password");let{data:a,error:c}=s;if(c||!a)return{data:{user:null,session:null},error:c};let l=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(_(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithPassword(n){return h(this,null,function*(){try{let r;if("email"in n){let{email:s,password:a,options:c}=n;r=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Qa})}else if("phone"in n){let{phone:s,password:a,options:c}=n;r=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Qa})}else throw new wt("You must provide either an email or phone number and a password");let{data:o,error:i}=r;return i?{data:{user:null,session:null},error:i}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new rn}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:i})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return h(this,null,function*(){var r,o,i,s;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(i=n.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=n.options)===null||s===void 0?void 0:s.skipBrowserRedirect})})}exchangeCodeForSession(n){return h(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>h(this,null,function*(){return this._exchangeCodeForSession(n)}))})}_exchangeCodeForSession(n){return h(this,null,function*(){let r=yield tr(this.storage,`${this.storageKey}-code-verifier`),[o,i]=(r??"").split("/");try{let{data:s,error:a}=yield D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:je});if(yield nr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new rn}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(_(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}})}signInWithIdToken(n){return h(this,null,function*(){try{let{options:r,provider:o,token:i,access_token:s,nonce:a}=n,c=yield D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:je}),{data:l,error:u}=c;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rn}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return h(this,null,function*(){var r,o,i,s,a;try{if("email"in n){let{email:c,options:l}=n,u=null,d=null;this.flowType==="pkce"&&([u,d]=yield It(this.storage,this.storageKey));let{error:p}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:u,error:d}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new wt("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return h(this,null,function*(){var r,o;try{let i,s;"options"in n&&(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo,s=(o=n.options)===null||o===void 0?void 0:o.captchaToken);let{data:a,error:c}=yield D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:je});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,u=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithSSO(n){return h(this,null,function*(){var r,o,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=yield It(this.storage,this.storageKey)),yield D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((i=n?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:eh})}catch(s){if(_(s))return{data:null,error:s};throw s}})}reauthenticate(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return h(this,null,function*(){try{return yield this._useSession(n=>h(this,null,function*(){let{data:{session:r},error:o}=n;if(o)throw o;if(!r)throw new ce;let{error:i}=yield D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}}))}catch(n){if(_(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return h(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:o,type:i,options:s}=n,{error:a}=yield D(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in n){let{phone:o,type:i,options:s}=n,{data:a,error:c}=yield D(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:c}}throw new wt("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return this._useSession(r=>h(this,null,function*(){return r}))}))})}_acquireLock(n,r){return h(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=h(this,null,function*(){return yield o,yield r()});return this.pendingInLock.push(h(this,null,function*(){try{yield i}catch{}})),i}return yield this.lock(`lock:${this.storageKey}`,n,()=>h(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let o=r();for(this.pendingInLock.push(h(this,null,function*(){try{yield o}catch{}})),yield o;this.pendingInLock.length;){let i=[...this.pendingInLock];yield Promise.all(i),this.pendingInLock.splice(0,i.length)}return yield o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return h(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return h(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let o=n.expires_at?n.expires_at*1e3-Date.now()<Zo:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.storage.isServer){let a=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:n},error:null}}let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return h(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return h(this,null,function*(){try{return n?yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Ce}):yield this._useSession(r=>h(this,null,function*(){var o,i,s;let{data:a,error:c}=r;if(c)throw c;return!(!((o=a.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ce}:yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ce})}))}catch(r){if(_(r))return jf(r)&&(yield this._removeSession(),yield nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(o){return h(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(o){return h(this,arguments,function*(n,r={}){try{return yield this._useSession(i=>h(this,null,function*(){let{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new ce;let c=s.session,l=null,u=null;this.flowType==="pkce"&&n.email!=null&&([l,u]=yield It(this.storage,this.storageKey));let{data:d,error:p}=yield D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:u}),jwt:c.access_token,xform:Ce});if(p)throw p;return c.user=d.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(i){if(_(i))return{data:{user:null},error:i};throw i}})}setSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return h(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new ce;let r=Date.now()/1e3,o=r,i=!0,s=null,{payload:a}=Xo(n.access_token);if(a.exp&&(o=a.exp,i=o<=r),i){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};s=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;s={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:o-r,expires_at:o},yield this._saveSession(s),yield this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return h(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;if(!n){let{data:a,error:c}=r;if(c)throw c;n=(o=a.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new ce;let{session:i,error:s}=yield this._callRefreshToken(n.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return h(this,null,function*(){try{if(!ge())throw new _t("No browser detected.");if(n.error||n.error_description||n.error_code)throw new _t(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yn("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _t("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Yn("No code detected.");let{data:le,error:ue}=yield this._exchangeCodeForSession(n.code);if(ue)throw ue;let Me=new URL(window.location.href);return Me.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Me.toString()),{data:{session:le.session,redirectType:null},error:null}}let{provider_token:o,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=n;if(!s||!c||!a||!u)throw new _t("No session defined in URL");let d=Math.round(Date.now()/1e3),p=parseInt(c),f=d+p;l&&(f=parseInt(l));let g=f-d;g*1e3<=vt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let m=f-p;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);let{data:y,error:b}=yield this._getUser(s);if(b)throw b;let me={provider_token:o,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:me,redirectType:n.type},error:null}}catch(o){if(_(o))return{data:{session:null,redirectType:null},error:o};throw o}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return h(this,null,function*(){let r=yield tr(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return h(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return h(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{error:s};let a=(o=i.session)===null||o===void 0?void 0:o.access_token;if(a){let{error:c}=yield this.admin.signOut(a,n);if(c&&!(Lf(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Wf(),o={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),h(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:o}}}_emitInitialSession(n){return h(this,null,function*(){return yield this._useSession(r=>h(this,null,function*(){var o,i;try{let{data:{session:s},error:a}=r;if(a)throw a;yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",s),this._debug("INITIAL_SESSION","callback id",n,"session",s)}catch(s){yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",s),console.error(s)}}))})}resetPasswordForEmail(o){return h(this,arguments,function*(n,r={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=yield It(this.storage,this.storageKey,!0));try{return yield D(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(_(a))return{data:null,error:a};throw a}})}getUserIdentities(){return h(this,null,function*(){var n;try{let{data:r,error:o}=yield this.getUser();if(o)throw o;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}linkIdentity(n){return h(this,null,function*(){var r;try{let{data:o,error:i}=yield this._useSession(s=>h(this,null,function*(){var a,c,l,u,d;let{data:p,error:f}=s;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield D(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})}));if(i)throw i;return ge()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:n.provider,url:o?.url},error:null}}catch(o){if(_(o))return{data:{provider:n.provider,url:null},error:o};throw o}})}unlinkIdentity(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)throw a;return yield D(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return h(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let o=Date.now();return yield Zf(i=>h(this,null,function*(){return i>0&&(yield Qf(200*Math.pow(2,i-1))),this._debug(r,"refreshing attempt",i),yield D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:je})}),(i,s)=>{let a=200*Math.pow(2,i);return s&&Ko(s)&&Date.now()+a-o<vt})}catch(o){if(this._debug(r,"error",o),_(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return h(this,null,function*(){let o=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",o),ge()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}})}_recoverAndRefresh(){return h(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let o=yield tr(this.storage,this.storageKey);if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&(yield this._removeSession());return}let i=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zo}s`),i){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=yield this._callRefreshToken(o.refresh_token);s&&(console.error(s),Ko(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return h(this,null,function*(){var r,o;if(!n)throw new ce;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new er;let{data:s,error:a}=yield this._refreshAccessToken(n);if(a)throw a;if(!s.session)throw new ce;yield this._saveSession(s.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);let c={session:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),_(s)){let a={session:null,error:s};return Ko(s)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}})}_notifyAllSubscribers(n,r,o=!0){return h(this,null,function*(){let i=`#_notifyAllSubscribers(${n})`;this._debug(i,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:r});let s=[],a=Array.from(this.stateChangeEmitters.values()).map(c=>h(this,null,function*(){try{yield c.callback(n,r)}catch(l){s.push(l)}}));if(yield Promise.all(a),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}})}_saveSession(n){return h(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Ga(this.storage,this.storageKey,n)})}_removeSession(){return h(this,null,function*(){this._debug("#_removeSession()"),yield nr(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return h(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),vt);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>h(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return h(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return h(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return h(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>h(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>h(this,null,function*(){let{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((o.expires_at*1e3-n)/vt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${vt}ms, refresh threshold is ${Qo} ticks`),i<=Qo&&(yield this._callRefreshToken(o.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof rr)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return h(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>h(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return h(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>h(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,o){return h(this,null,function*(){let i=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&i.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){let[s,a]=yield It(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(c.toString())}if(o?.queryParams){let s=new URLSearchParams(o.queryParams);i.push(s.toString())}return o?.skipBrowserRedirect&&i.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${i.join("&")}`})}_unenroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield D(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_enroll(n){return h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o,i;let{data:s,error:a}=r;if(a)return{data:null,error:a};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:u}=yield D(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(o=s?.session)===null||o===void 0?void 0:o.access_token});return u?{data:null,error:u}:(n.factorType==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_verify(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let{data:a,error:c}=yield D(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:c})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challenge(n){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){try{return yield this._useSession(r=>h(this,null,function*(){var o;let{data:i,error:s}=r;return s?{data:null,error:s}:yield D(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(o=i?.session)===null||o===void 0?void 0:o.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return h(this,null,function*(){let{data:r,error:o}=yield this._challenge({factorId:n.factorId});return o?{data:null,error:o}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return h(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let o=n?.factors||[],i=o.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=o.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:o,totp:i,phone:s},error:null}})}_getAuthenticatorAssuranceLevel(){return h(this,null,function*(){return this._acquireLock(-1,()=>h(this,null,function*(){return yield this._useSession(n=>h(this,null,function*(){var r,o;let{data:{session:i},error:s}=n;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Xo(i.access_token),c=null;a.aal&&(c=a.aal);let l=c;((o=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(l="aal2");let d=a.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}))})}fetchJwk(o){return h(this,arguments,function*(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i||(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+Pf>Date.now()))return i;let{data:s,error:a}=yield D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Le("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),i=s.keys.find(c=>c.kid===n),!i)throw new Le("No matching signing key found in JWKS");return i})}getClaims(o){return h(this,arguments,function*(n,r={keys:[]}){try{let i=n;if(!i){let{data:m,error:y}=yield this.getSession();if(y||!m.session)return{data:null,error:y};i=m.session.access_token}let{header:s,payload:a,signature:c,raw:{header:l,payload:u}}=Xo(i);if(Kf(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(i);if(m)throw m;return{data:{claims:a,header:s,signature:c},error:null}}let d=Yf(s.alg),p=yield this.fetchJwk(s.kid,r),f=yield crypto.subtle.importKey("jwk",p,d,!0,["verify"]);if(!(yield crypto.subtle.verify(d,f,c,Bf(`${l}.${u}`))))throw new Le("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(i){if(_(i))return{data:null,error:i};throw i}})}}return e.nextInstanceID=0,e})();var Q_=Ka,Ya=Q_;var ti=class extends Ya{constructor(t){super(t)}};var Z_=function(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})},ni=class{constructor(t,n,r){var o,i,s;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let a=Sf(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:xf,realtime:Cf,auth:Object.assign(Object.assign({},Tf),{storageKey:c}),global:Df},u=Nf(r??{},l);this.storageKey=(o=u.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=u.auth)!==null&&s!==void 0?s:{},this.headers,u.global.fetch),this.fetch=Mf(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new df(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new jn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Qn(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Z_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},l,u){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ti({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zn(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var ON=(e,t,n)=>new ni(e,t,n);export{H as a,_h as b,O as c,Si as d,Ni as e,Fe as f,pn as g,gn as h,$e as i,Nh as j,kh as k,Oh as l,Ke as m,Ye as n,$h as o,Xe as p,ki as q,Or as r,Uh as s,Bh as t,mn as u,kc as v,qh as w,yn as x,Oi as y,zh as z,Gh as A,Ai as B,Qh as C,Zh as D,Jh as E,Kh as F,Yh as G,Xh as H,S as I,Tl as J,W as K,GT as L,QT as M,P as N,C as O,qe as P,N as Q,Vl as R,Bl as S,We as T,Wl as U,ZT as V,JT as W,KT as X,YT as Y,XT as Z,$t as _,oa as $,xo as aa,He as ba,te as ca,ft as da,eC as ea,To as fa,tC as ga,nC as ha,Jg as ia,Yg as ja,rC as ka,oC as la,Co as ma,la as na,im as oa,Tn as pa,hm as qa,iC as ra,sC as sa,ys as ta,uo as ua,fo as va,hC as wa,ko as xa,pC as ya,Ta as za,mv as Aa,yv as Ba,vC as Ca,wC as Da,_C as Ea,bC as Fa,xv as Ga,Lv as Ha,IC as Ia,jd as Ja,EC as Ka,Uv as La,Sn as Ma,Gv as Na,tw as Oa,nw as Pa,$d as Qa,Hd as Ra,hw as Sa,DC as Ta,xC as Ua,yw as Va,Ew as Wa,TC as Xa,CC as Ya,MC as Za,SC as _a,NC as $a,kC as ab,OC as bb,Cw as cb,Bd as db,Sw as eb,AC as fb,Nw as gb,RC as hb,PC as ib,LC as jb,jC as kb,FC as lb,VC as mb,$C as nb,Zd as ob,HC as pb,Xw as qb,UC as rb,BC as sb,qC as tb,WC as ub,zC as vb,ON as wb};
