import{a as x}from"./chunk-EDEC42IT.js";import{l as M,m as k}from"./chunk-7LMTQFKZ.js";import{$a as f,Ca as _,Ga as m,K as C,Na as n,P as v,Pa as o,Qa as s,Ra as u,Ta as l,Ua as g,_a as c,qa as p,sa as i,xa as y}from"./chunk-3UVLN3EJ.js";import{h as b}from"./chunk-FK42CRUA.js";var d=class r{constructor(e){this.http=e}apiUrl="https://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1";deckId="";iniciarBaraja(){return this.http.get(this.apiUrl)}obtenerCartas(){return b(this,null,function*(){let e=yield this.iniciarBaraja().toPromise();return this.deckId=e.deck_id,(yield this.http.get(`https://deckofcardsapi.com/api/deck/${this.deckId}/draw/?count=52`).toPromise()).cards})}static \u0275fac=function(t){return new(t||r)(v(x))};static \u0275prov=C({token:r,factory:r.\u0275fac,providedIn:"root"})};function T(r,e){if(r&1&&(o(0,"p"),c(1),s()),r&2){let t=g();i(),f(t.mensajeCarga)}}function P(r,e){if(r&1&&u(0,"img",7),r&2){let t=g();n("src",t.cartaVisible.image,p)}}var I=class r{constructor(e){this.cartasService=e}cartas=[];cartaVisible;cartaTapada;cartaRevelada="";resultado="";seleccionRealizada=!1;cargandoCartas=!1;mensajeCarga="";ngOnInit(){this.cargarCartas()}cargarCartas(){this.cargandoCartas=!0,this.mensajeCarga="\u231B Barajando cartas...",this.cartasService.obtenerCartas().then(e=>{this.cartas=e.filter(t=>t.code),this.cartas.length>1?this.iniciarJuego():console.error("Error: No se recibieron cartas v\xE1lidas."),this.cargandoCartas=!1,this.mensajeCarga=""}).catch(e=>{console.error("Error al obtener cartas:",e),this.cargandoCartas=!1})}iniciarJuego(){if(this.resultado="",this.cartaRevelada="",this.seleccionRealizada=!1,!this.cartas||this.cartas.length<2){console.error("Error: No hay suficientes cartas disponibles.");return}do this.cartaVisible=this.cartas[Math.floor(Math.random()*this.cartas.length)],this.cartaTapada=this.cartas[Math.floor(Math.random()*this.cartas.length)];while(!this.cartaVisible?.value||!this.cartaTapada?.value||this.cartaVisible.value===this.cartaTapada.value)}evaluarEleccion(e){if(this.seleccionRealizada)return;this.seleccionRealizada=!0;let t=this.obtenerValor(this.cartaVisible.value),a=this.obtenerValor(this.cartaTapada.value);this.resultado=e==="mayor"&&t>a||e==="menor"&&t<a?"Correcto!":"Incorrecto, intenta de nuevo.",this.cartaRevelada=this.cartaTapada.image}obtenerValor(e){let t={JACK:11,QUEEN:12,KING:13,ACE:14};return t[e]!==void 0?t[e]:parseInt(e,10)}static \u0275fac=function(t){return new(t||r)(y(d))};static \u0275cmp=_({type:r,selectors:[["app-mayormenor"]],decls:16,vars:7,consts:[[1,"contenedor-juego"],[4,"ngIf"],[1,"cartas"],["alt","Carta visible",3,"src",4,"ngIf"],["alt","Carta tapada",3,"src"],[1,"botones"],[3,"click","disabled"],["alt","Carta visible",3,"src"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"h2"),c(2,"Mayor o Menor"),s(),m(3,T,2,1,"p",1),o(4,"div",2),m(5,P,1,1,"img",3),u(6,"img",4),s(),o(7,"div",5)(8,"button",6),l("click",function(){return a.evaluarEleccion("mayor")}),c(9,"Mayor"),s(),o(10,"button",6),l("click",function(){return a.evaluarEleccion("menor")}),c(11,"Menor"),s(),o(12,"button",6),l("click",function(){return a.iniciarJuego()}),c(13,"Reiniciar"),s()(),o(14,"p"),c(15),s()()),t&2&&(i(3),n("ngIf",a.mensajeCarga),i(2),n("ngIf",a.cartaVisible),i(),n("src",a.cartaRevelada||"https://deckofcardsapi.com/static/img/back.png",p),i(2),n("disabled",a.seleccionRealizada||a.cargandoCartas),i(2),n("disabled",a.seleccionRealizada||a.cargandoCartas),i(2),n("disabled",a.cargandoCartas),i(3),f(a.resultado))},dependencies:[k,M],styles:[".contenedor-juego[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center}.cartas[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px}.cartas[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:140px;height:auto;border-radius:8px}button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:12px 20px;font-size:18px;font-weight:700;cursor:pointer;border-radius:8px;transition:all .3s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.botones[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:15px;margin-top:15px}"]})};export{I as MayormenorComponent};
