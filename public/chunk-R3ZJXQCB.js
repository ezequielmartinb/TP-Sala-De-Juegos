import{a as o}from"./chunk-RYNEBBE2.js";import{K as n,wb as c}from"./chunk-LTGA3DLZ.js";import{h as s}from"./chunk-FK42CRUA.js";var d=class r{supabase=c(o.apiUrl,o.publicAnonKey);estadisticas=[];constructor(){}agregarEstadistica(a,t,e){return s(this,null,function*(){let u=new Date().toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),{data:g,error:i}=yield this.supabase.from("estadisticas").insert([{nombre_usuario:a,puntuacion:t,juego:e,fecha:u}]).select();i?console.error("Error al guardar la estad\xEDstica:",i.message,i.details):console.log("Estad\xEDstica guardada correctamente:",g)})}obtenerEstadisticas(){return this.estadisticas}guardarEstadistica(a,t){return s(this,null,function*(){let e=localStorage.getItem("username")||"Invitado";this.agregarEstadistica(e,a,t)})}obtenerEstadisticasPorJuego(a){return s(this,null,function*(){let{data:t,error:e}=yield this.supabase.from("estadisticas").select("*").eq("juego",a).order("fecha",{ascending:!1});return e&&console.error(`Error al obtener estad\xEDsticas de ${a}:`,e.message),t||[]})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{d as a};
